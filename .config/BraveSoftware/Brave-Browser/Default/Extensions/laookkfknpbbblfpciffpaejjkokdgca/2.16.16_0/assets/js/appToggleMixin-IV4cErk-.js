function t({useViewStateStore:t,analytics:e}={}){return{computed:{popupActive(){return this.viewStateStore.popupActive}},unreactive(){const o={};return t&&(o.viewStateStore=t()),e&&(o.capture=e.capture.bind(e)),e&&(o.batchCapture=e.batchCapture),o},methods:{async togglePopupAndCaptureIfOpen(t){var e;if(await this.togglePopup(),this.popupActive){const o=t instanceof KeyboardEvent?"hotkey":"click";null==(e=this.capture)||e.call(this,"app show",{source:o})}},closePopup(){this.viewStateStore.togglePopup(!1)},async togglePopup(t){const e="boolean"!=typeof t;e&&this.popupActive&&!this.viewStateStore.focused?this.viewStateStore.focus():await this.viewStateStore.togglePopup(e?void 0:t)}},provide:()=>({capture:(null==e?void 0:e.capture.bind(e))??null,batchCapture:(null==e?void 0:e.batchCapture)??null})}}export{t as a};