import"./VueBase-W7f1OYgs.js";import e from"./Dropdown-OXqSLuGU.js";import t from"./DropdownOption-Doji5Bwd.js";import o from"./ToastMenuLegacy-FWR1i4hA.js";import{_ as n,a as s,b as a}from"./icon-settings-Bycjf8-G.js";import{n as i,V as l}from"./icon-alert--q0yLTMi.js";import"./index-DQvfDEB6.js";import"./preload-helper-DmNsytk6.js";import"./localStorage-4iHdj-SC.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./main-FH8FpKq2.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-SV1wohGy.js";import"./icon-ellipsis-D3jS4u3x.js";import"./string-GDe0WbEj.js";const r=i({name:"TeamLogo",components:{Dropdown:e,DropdownOption:t,ToastMenu:o},unreactive:()=>({dropdownLeft:7,nippleDisplacement:0}),data:()=>({dropdownActive:!1,nippleDisplacementCss:null}),computed:{teamInfo:()=>m.models.teamInfo.get("team")||{},logo(){return this.teamInfo.teamLogoUrl||null},isSVG(){return"SVG"===this.teamInfo.teamLogoFileType}},watch:{logo:"updateRegionClass",$admin:"updateRegionClass"},mounted(){this.updateRegionClass(),m.widgetManager.appReady("team-logo")},methods:{toggleTeamMenu(){this.$admin&&(this.dropdownActive?(m.widgetManager.refocusOverlap("logo"),document.querySelector(".top-left").classList.remove("team-dropdown-open")):(this.nippleDisplacementCss||this.$nextTick((()=>{this.nippleDisplacementCss=this.calculateNippleDisplacementCss()})),m.trigger("notification:hide"),m.widgetManager.unfocusOverlap("logo"),document.querySelector(".top-left").classList.add("team-dropdown-open")),this.dropdownActive=!this.dropdownActive)},goToTeamMembers(){m.cmd("window.account.open.login","/team/members?add")},goToTeamSite(){m.cmd("window.account.open.login","/")},goToTeamSiteAnnouncements(){m.cmd("window.account.open.login","/team/announcements")},calculateNippleDisplacementCss(){const e=this.$refs.logo||this.$refs["toggle-label"];if(!e||Object.prototype.hasOwnProperty.call(e,"complete")&&!e.complete)return;const{left:t,width:o}=e.getBoundingClientRect();return{"--nipple-left":t+o/2-(this.dropdownLeft+7)+"px"}},updateRegionClass(){const e=document.querySelector(".top-left");e.classList.remove("has-logo","has-no-logo","has-logo-placeholder");let t="";t=this.logo?"has-logo":this.$admin?"has-logo-placeholder":"has-no-logo",e.classList.add(t)}}},(function(){var e=this,t=e._self._c;return e.logo||e.$admin?t("div",{ref:"wrapper",staticClass:"app-container team-logo",class:{"is-admin":e.$admin,show:e.dropdownActive},style:{"--dropdown-left":e.dropdownLeft+"px"},attrs:{id:"team-logo","data-test":"team-logo"}},[t(e.$touch?"ToastMenu":"Dropdown",{tag:"component",style:e.nippleDisplacementCss,attrs:{"on-dash":!0,active:e.dropdownActive,"section-title":e.teamInfo.teamName||""},on:{toggle:e.toggleTeamMenu},scopedSlots:e._u([{key:"moreToggle",fn:function(){return[t("div",{staticClass:"app-dash add-shadow",class:{toggle:e.$admin},attrs:{"data-test":"app-dash"},on:{click:e.toggleTeamMenu}},[e.logo?[t("img",{ref:"logo",staticClass:"logo",class:{svg:e.isSVG},attrs:{src:e.logo,"data-test":"img"}}),e.$admin?t("span",{staticClass:"team-logo-icon-wrapper",attrs:{"data-test":"caret"}},[t("i",{staticClass:"icon icon-angle-down"})]):e._e()]:e.$admin?[t("span",{ref:"toggle-label"},[e._v(" Team ")])]:e._e()],2)]},proxy:!0}],null,!1,4087722239)},[e.$admin?[t("dropdown-option",{staticClass:"settings settings-members",attrs:{name:"Invite Team Members","data-test":"invite-team"},nativeOn:{click:function(t){return e.goToTeamMembers.apply(null,arguments)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("inline-svg",{staticClass:"icon dropdown-list-icon icon-add-members",attrs:{src:n}})]},proxy:!0}],null,!1,1739350381)}),t("dropdown-option",{staticClass:"settings settings-general",attrs:{name:"Go to Team Admin","data-test":"team-admin"},nativeOn:{click:function(t){return e.goToTeamSite.apply(null,arguments)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("inline-svg",{staticClass:"icon dropdown-list-icon icon-settings",attrs:{src:s}})]},proxy:!0}],null,!1,2173771038)}),t("dropdown-option",{staticClass:"settings settings-announcements",attrs:{name:"Send Announcement","data-test":"send-announcement"},nativeOn:{click:function(t){return e.goToTeamSiteAnnouncements.apply(null,arguments)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("inline-svg",{staticClass:"icon dropdown-list-icon icon-settings",attrs:{src:a}})]},proxy:!0}],null,!1,78219834)})]:e._e()],2)],1):e._e()}),[],!1,null,"c8aaa069").exports,c=document.createElement("div");document.querySelector(".top-left").prepend(c),new l({render:e=>e(r)}).$mount(c);