import{h as t}from"./handlebarLoader-xbtIzd6B.js";const n={1:function(t,n,e,a,s){var o,i,l=null!=n?n:t.nullContext||{},c=t.hooks.helperMissing,d="function",p=t.escapeExpression,g=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return(null!=(o=g(e,"if").call(l,s&&g(s,"first"),{name:"if",hash:{},fn:t.program(2,s,0),inverse:t.program(4,s,0),data:s,loc:{start:{line:22,column:5},end:{line:26,column:12}}}))?o:"")+'\t\t\t\t\t<span class="toggle-option balance-shortcut" data-shortcut="'+p(typeof(i=null!=(i=g(e,"label")||(null!=n?g(n,"label"):n))?i:c)===d?i.call(l,{name:"label",hash:{},data:s,loc:{start:{line:27,column:65},end:{line:27,column:74}}}):i)+'"><span class="toggle-label">'+p(typeof(i=null!=(i=g(e,"displayLabel")||(null!=n?g(n,"displayLabel"):n))?i:c)===d?i.call(l,{name:"displayLabel",hash:{},data:s,loc:{start:{line:27,column:103},end:{line:27,column:119}}}):i)+"</span></span>\n"},2:function(t,n,e,a,s){return'\t\t\t\t\t<span class="toggle-divider"></span>\n'},4:function(t,n,e,a,s){return'\t\t\t\t\t<span class="toggle-divider">|</span>\n'},6:function(t,n,e,a,s){return"\t\t\t\t\t\t\t\t<option>00</option>\n\t\t\t\t\t\t\t\t<option>01</option>\n\t\t\t\t\t\t\t\t<option>02</option>\n\t\t\t\t\t\t\t\t<option>03</option>\n\t\t\t\t\t\t\t\t<option>04</option>\n\t\t\t\t\t\t\t\t<option>05</option>\n\t\t\t\t\t\t\t\t<option>06</option>\n\t\t\t\t\t\t\t\t<option>07</option>\n\t\t\t\t\t\t\t\t<option>08</option>\n\t\t\t\t\t\t\t\t<option>09</option>\n\t\t\t\t\t\t\t\t<option>10</option>\n\t\t\t\t\t\t\t\t<option>11</option>\n\t\t\t\t\t\t\t\t<option>12</option>\n\t\t\t\t\t\t\t\t<option>13</option>\n\t\t\t\t\t\t\t\t<option>14</option>\n\t\t\t\t\t\t\t\t<option>15</option>\n\t\t\t\t\t\t\t\t<option>16</option>\n\t\t\t\t\t\t\t\t<option>17</option>\n\t\t\t\t\t\t\t\t<option>18</option>\n\t\t\t\t\t\t\t\t<option>19</option>\n\t\t\t\t\t\t\t\t<option>20</option>\n\t\t\t\t\t\t\t\t<option>21</option>\n\t\t\t\t\t\t\t\t<option>22</option>\n\t\t\t\t\t\t\t\t<option>23</option>\n"},8:function(t,n,e,a,s){return"\t\t\t\t\t\t\t\t<option>12</option>\n\t\t\t\t\t\t\t\t<option>1</option>\n\t\t\t\t\t\t\t\t<option>2</option>\n\t\t\t\t\t\t\t\t<option>3</option>\n\t\t\t\t\t\t\t\t<option>4</option>\n\t\t\t\t\t\t\t\t<option>5</option>\n\t\t\t\t\t\t\t\t<option>6</option>\n\t\t\t\t\t\t\t\t<option>7</option>\n\t\t\t\t\t\t\t\t<option>8</option>\n\t\t\t\t\t\t\t\t<option>9</option>\n\t\t\t\t\t\t\t\t<option>10</option>\n\t\t\t\t\t\t\t\t<option>11</option>\n"},10:function(t,n,e,a,s){return" &nbsp; "},12:function(t,n,e,a,s){return'\n\t\t\t\t\t\t\t<div class="select-wrapper">\n\t\t\t\t\t\t\t\t<select class="select-time-period balance-time" data-time="noon" data-side="start">\n\t\t\t\t\t\t\t\t\t<option selected>AM</option>\n\t\t\t\t\t\t\t\t\t<option>PM</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n'},14:function(t,n,e,a,s){return'\n\t\t\t\t\t\t\t<div class="select-wrapper">\n\t\t\t\t\t\t\t\t<select class="select-time-period balance-time" data-time="noon" data-side="end">\n\t\t\t\t\t\t\t\t\t<option selected>AM</option>\n\t\t\t\t\t\t\t\t\t<option>PM</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n'},16:function(t,n,e,a,s){return'\t\t\t\t\t\t<li class="slide-toggle has-toggle balance-option on" data-option="balanceNotes">\n\t\t\t\t\t\t\t<span class="toggle-slider"><svg class="toggle-switch" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"/></svg></span>\n\t\t\t\t\t\t\t<span class="setting-name">Hide Notes</span>\n\t\t\t\t\t\t</li>\n'},compiler:[8,">= 4.3.0"],main:function(t,n,e,a,s){var o,i=null!=n?n:t.nullContext||{},l=t.lambda,c=t.escapeExpression,d=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<h3>Balance</h3>\n<p class="description">Balance your day with periods of uptime and downtime</p>\n<ul class="settings-list options-list">\n\t<li class="slide-toggle has-toggle balance-mode on">\n\t\t<span class="toggle-slider" data-test="balance-toggle"><svg class="toggle-switch" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"/></svg></span>\n\t\t<span class="setting-name">Enable Balance mode</span>\n\t\t<span class="option-message">Hide productivity features during downtime</span>\n\t</li>\n</ul>\n\n\n\n<h4>Uptime Schedule</h4>\n<p class="subdescription">Times when productivity features are active</p>\n<ul class="settings-list options-list shortcut-list">\n\t<li class="slide-toggle has-toggle custom-time-toggle">\n\t\t<div class="balance-time-wrapper">\n\t\t\t<span class="setting-name">Hours of the day</span>\n\n\t\t\t<span class="toggle-options">\n'+(null!=(o=d(e,"each").call(i,null!=n?d(n,"shortcuts"):n,{name:"each",hash:{},fn:t.program(1,s,0),inverse:t.noop,data:s,loc:{start:{line:21,column:4},end:{line:28,column:13}}}))?o:"")+'\t\t\t\t<br>\n\t\t\t\t<span class="toggle-option toggle-custom time-custom">\n\t\t\t\t\t<span class="toggle-label">Custom</span>\n\t\t\t\t\t<span class="badge badge-plus">Plus</span>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>\n\t\t<ul class="toggle-options toggle-options-custom toggle-options-multi" data-custom="Time">\n\t\t\t<li>\n\t\t\t\t<span class="subsetting-name">Start time</span>\n\n\t\t\t\t\t<span class="setting-dropdown">\n\t\t\t\t\t<div class="select-wrapper">\n\t\t\t\t\t\t<select class="balance-time" data-time="hour" data-side="start">\n'+(null!=(o=d(e,"if").call(i,null!=n?d(n,"hour24"):n,{name:"if",hash:{},fn:t.program(6,s,0),inverse:t.program(8,s,0),data:s,loc:{start:{line:43,column:7},end:{line:81,column:14}}}))?o:"")+'\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\x3c!--\n\n\t\t\t\t\t--\x3e<span class="time-divider">:</span>\x3c!--\n\n\t\t\t\t\t--\x3e<div class="select-wrapper">\n\t\t\t\t\t\t<select class="balance-time" data-time="minute" data-side="start">\n\t\t\t\t\t\t\t<option selected>00</option>\n\t\t\t\t\t\t\t<option>15</option>\n\t\t\t\t\t\t\t<option>30</option>\n\t\t\t\t\t\t\t<option>45</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t'+(null!=(o=d(e,"if").call(i,null!=n?d(n,"hour24"):n,{name:"if",hash:{},fn:t.program(10,s,0),inverse:t.program(12,s,0),data:s,loc:{start:{line:95,column:6},end:{line:102,column:13}}}))?o:"")+'\t\t\t\t\t</span>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<span class="subsetting-name">End time</span>\n\n\t\t\t\t\t<span class="setting-dropdown">\n\t\t\t\t\t<div class="select-wrapper">\n\t\t\t\t\t\t<select class="balance-time" data-time="hour" data-side="end">\n'+(null!=(o=d(e,"if").call(i,null!=n?d(n,"hour24"):n,{name:"if",hash:{},fn:t.program(6,s,0),inverse:t.program(8,s,0),data:s,loc:{start:{line:111,column:7},end:{line:149,column:14}}}))?o:"")+'\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<span class="time-divider" style="margin: 0 0 0 -4px;">:</span>\x3c!--\n\n\t\t\t\t\t--\x3e<div class="select-wrapper">\n\t\t\t\t\t\t<select class="balance-time" data-time="minute" data-side="end">\n\t\t\t\t\t\t\t<option selected>00</option>\n\t\t\t\t\t\t\t<option>15</option>\n\t\t\t\t\t\t\t<option>30</option>\n\t\t\t\t\t\t\t<option>45</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t'+(null!=(o=d(e,"if").call(i,null!=n?d(n,"hour24"):n,{name:"if",hash:{},fn:t.program(10,s,0),inverse:t.program(14,s,0),data:s,loc:{start:{line:163,column:6},end:{line:170,column:13}}}))?o:"")+'\t\t\t\t\t</span>\n\t\t\t</li>\n\t\t</ul>\n\t</li>\n\t<li class="slide-toggle has-toggle custom-days-toggle">\n\t\t<span class="setting-name">Days of the week</span>\n\n\t\t<span class="toggle-options">\n\t\t\t<span class="toggle-option days-shortcut" data-days="1,2,3,4,5"><span class="toggle-label">Weekdays</span></span>\n\t\t\t<span class="toggle-divider">|</span>\n\t\t\t<span class="toggle-option days-shortcut" data-days="0,1,2,3,4,5,6"><span class="toggle-label">Every day</span></span>\n\t\t\t<span class="toggle-divider">|</span>\n\t\t\t<span class="toggle-option toggle-custom days-custom">\n\t\t\t\t<span class="toggle-label">Custom</span>\n\t\t\t\t<span class="badge badge-plus">Plus</span>\n\t\t\t</span>\n\t\t</span>\n\n\n\t\t<ul class="toggle-options toggle-options-custom toggle-options-multi" data-custom="Days">\n\t\t\t<li>\n\t\t\t\t<span class="subsetting-name">Days Active</span>\n\n\t\t\t\t<span class="toggle-options">\n\t\t\t\t\t<span class="toggle-option day-toggle" data-day="0"><span class="toggle-label">S</span></span>\n\t\t\t\t\t\t<span class="toggle-option day-toggle active" data-day="1"><span class="toggle-label">M</span></span>\n\t\t\t\t\t\t<span class="toggle-option day-toggle active" data-day="2"><span class="toggle-label">T</span></span>\n\t\t\t\t\t\t<span class="toggle-option day-toggle active" data-day="3"><span class="toggle-label">W</span></span>\n\t\t\t\t\t\t<span class="toggle-option day-toggle active" data-day="4"><span class="toggle-label">T</span></span>\n\t\t\t\t\t\t<span class="toggle-option day-toggle active" data-day="5"><span class="toggle-label">F</span></span>\n\t\t\t\t\t\t<span class="toggle-option day-toggle" data-day="6"><span class="toggle-label">S</span></span>\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t</ul>\n\t</li>\n</ul>\n\n\n\n<div class="show-on-balance">\n\t<h4 class="button-advanced" data-test="options">Downtime Options<i class="icon icon-angle-down"></i></h4>\n\t<p class="subdescription">Productivity features to hide during downtime</p>\n\t<div class="smooth-height-wrapper">\n\t\t<div class="smooth-height-content">\n\t\t\t<div class="wrapper-advanced">\n\t\t\t\t<ul class="settings-list options-list balance-rest-list">\n\t\t\t\t\t<li class="slide-toggle has-toggle balance-option on" data-option="balanceClock">\n\t\t\t\t\t\t<span class="toggle-slider"><svg class="toggle-switch" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"/></svg></span>\n\t\t\t\t\t\t<span class="setting-name">Hide Clock</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="slide-toggle has-toggle balance-option on" data-option="balanceGreeting" data-test="toggle-greeting">\n\t\t\t\t\t\t<span class="toggle-slider"><svg class="toggle-switch" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"/></svg></span>\n\t\t\t\t\t\t<span class="setting-name">Hide Greeting</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="slide-toggle has-toggle balance-option on" data-option="balanceFocus">\n\t\t\t\t\t\t<span class="toggle-slider"><svg class="toggle-switch" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"/></svg></span>\n\t\t\t\t\t\t<span class="setting-name">Hide Daily Goal</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="slide-toggle has-toggle balance-option on" data-option="balanceTodo">\n\t\t\t\t\t\t<span class="toggle-slider"><svg class="toggle-switch" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50"/></svg></span>\n\t\t\t\t\t\t<span class="setting-name">Hide Tasks</span>\n\t\t\t\t\t</li>\n'+(null!=(o=d(e,"if").call(i,null!=n?d(n,"plusEnabled"):n,{name:"if",hash:{},fn:t.program(16,s,0),inverse:t.noop,data:s,loc:{start:{line:233,column:5},end:{line:238,column:12}}}))?o:"")+'\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n\n<div class="balance-quote">&ldquo;'+c(l(null!=(o=null!=n?d(n,"currentQuote"):n)?d(o,"body"):o,n))+'&rdquo;<span class="balance-quote-source">– '+c(l(null!=(o=null!=n?d(n,"currentQuote"):n)?d(o,"source"):o,n))+"</span></div>\n"},useData:!0};t({addin:"1e373fa7-a454-4652-8d77-1a4fcc88c069",id:"settings_balance",dependencies:["settings"],commands:["settings.panels.balance"]},Object.assign({"./views/main.js":t=>{var n=t.dependencies.settings;t.views.Main=n.views.SettingsPanel.extend({attributes:{id:"settings-balance",class:"settings-view settings-balance","data-test":"settings-balance"},panelid:"balance",panelTitle:"Balance Settings",analytics:new m.Analytics({feature:"balance mode"}),quotes:[{body:"Time you enjoy wasting is not wasted.",source:"John Lennon"},{body:"Sometimes the best training is to rest.",source:"Cristiano Ronaldo"},{body:"Rest until you feel like playing, then play until you feel like resting.",source:"Martha Beck"},{body:"If you get tired, learn to rest, not to quit.",source:"Banksy"},{body:"Everything in moderation, including moderation.",source:"Oscar Wilde"},{body:"Sometimes the most productive thing you can do is rest.",source:"Anonymous"},{body:"Balance achievement with appreciation.",source:"Tim Ferriss"},{body:"There is virtue in work and there is virtue in rest. Use both and overlook neither.",source:"Alan Cohen"}],showAdvanced:!1,template:t.templates.main,events:{"click .balance-mode":"toggleBalanceMode","click .balance-option":"toggleBalanceOption","click .day-toggle":"toggleDay","change .balance-time":"updateBalanceTime","click .balance-shortcut":"chooseShortcut","click .days-shortcut":"setDays","click .toggle-custom":"toggleCustomOptions","click .cancel-custom":"cancelCustomOptions","click .button-advanced":"toggleAdvanced"},initialize:function(t){m.models.balanceMode&&!m.models.balanceMode.initCompleted&&(m.models.balanceMode.initCompleted=!0),this.collection=new m.collect.Settings,t&&t.showAdvanced&&(this.showAdvanced=!0),this.plusEnabled=m.conditionalFeatures.featureEnabled("plus"),this.shortcuts={};for(var n,e,a,s,o=8.5,i=4.5;o<10;){e=(n=Math.floor(o))==o?"00":"30",s=(a=Math.floor(i))==i?"00":"30";var l=this.generateLabel(n,e,a,s);this.shortcuts[l]={},this.shortcuts[l].start={hour:n,minute:e,noon:"AM"},this.shortcuts[l].end={hour:a,minute:s,noon:"PM"},this.shortcuts[l].label=l,this.hour24=!m.models.customization.get("hour12clock"),this.shortcuts[l].displayLabel=this.generateLabel((this.hour24?"0":"")+n,e,a+(this.hour24?12:0),s),i+=.5,o+=.5}this.heightFound=!1,this.animating={customTime:!1,customDays:!1},this.currentQuote=this.quotes[Math.floor(Math.random()*this.quotes.length)]},render:function(){var t=this;if(this.$el.css("opacity",0),this.$el.html(this.template(this)),this.$buttonAdvanced=this.$(".button-advanced"),this.$wrapperAdvanced=this.$(".wrapper-advanced"),this.showAdvanced&&setTimeout((function(){m.utils.scrollToBottom(t.$el)}),0),this.toggleAdvanced(null,this.showAdvanced),!this.heightFound){var n=this.$(".toggle-options-custom");n.length>0&&n.css({position:"absolute",opacity:0})}return this.$balanceToggler=this.$el.find(".balance-mode"),this.updateBalanceMode(!0),setTimeout((function(){t.$el.css("opacity",1)}),10),setTimeout((function(){t.calcCustomHeights()}),1),setTimeout((function(){t.$el.find(".toggle-options-custom").addClass("animating")}),400),this.analytics.capture("settings panel show"),this},generateLabel:function(t,n,e,a){return t+":"+n+"-"+e+":"+a},calcCustomHeights:function(){var t=this;t.$(".toggle-options-custom").each((function(){var n=$(this),e=n.height();if(e>0){n.data("main-height",e);var a=0;m.models.balanceMode.get("custom"+n.data("custom"))&&(a=e),n.css({overflow:"hidden",height:a,position:"relative"}),n.css({opacity:1}),t.heightFound=!0}}))},updateBalanceDays:function(t){var n,e=m.models.balanceMode,a="";for(n=0;n<7;n++)e.get("days")[n]&&(a.length>0&&(a+=","),a+=n);this.customDays=!1,this.$el.find(".days-shortcut").removeClass("active"),this.$el.find(".days-custom").removeClass("active"),e.get("customDays")?(this.$(".days-custom").addClass("active"),this.showCustomOptions(this.$(".custom-days-toggle"),!0)):(this.$el.find('[data-days="'+a+'"]').addClass("active"),t||this.hideCustomOptions(this.$(".custom-days-toggle"))),this.$el.find(".day-toggle").each((function(t,n){var a=$(n);a.toggleClass("active",e.get("daysCustom")[parseInt(a.attr("data-day"))])}))},updateBalanceMode:function(t){var n=m.models.balanceMode;this.$balanceToggler.toggleClass("on",n.get("enabled")),this.$(".show-on-balance").mToggle("block",n.get("enabled")),this.$(".balance-option").each((function(t,e){var a=$(e);a.toggleClass("on",n.get([a.attr("data-option")]))}));var e=!m.models.customization.get("hour12clock");this.$el.find(".balance-time").each((function(){var t=$(this),a=t.attr("data-time"),s=t.attr("data-side"),o=n.get(s+"Custom"),i=0;e&&"hour"==a?"PM"==o.noon&&(i=12):e||"hour"!=a||0!=o.hour||(i=12);var l=o[a];i&&(l=parseInt(l)+i),e&&"hour"==a&&1==(l+"").length&&(l="0"+l),t.val(l)}));var a=this.generateLabel(n.get("start").hour,n.get("start").minute,n.get("end").hour,n.get("end").minute);this.$(".balance-shortcut").removeClass("active"),n.get("customTime")?(this.$(".time-custom").addClass("active"),this.showCustomOptions(this.$(".custom-time-toggle"),!0)):(this.$el.find('[data-shortcut="'+a+'"]').addClass("active"),this.$(".time-custom").removeClass("active"),t||this.hideCustomOptions(this.$(".custom-time-toggle"))),this.updateBalanceDays(t)},updateBalanceTime:function(t){var n=$(t.delegatedTarget).attr("data-time"),e=$(t.delegatedTarget).attr("data-side"),a=m.models.balanceMode,s=a.get(e+"Custom"),o={hour:s.hour,minute:s.minute,noon:s.noon},i=$(t.delegatedTarget).val();if("hour"==n)if(i=parseInt(i),m.models.customization.get("hour12clock"))o.hour=12==i?0:i;else{var l=i>11;o.hour=i-(l?12:0),o.noon=l?"PM":"AM"}else o[n]=i;a.set(e+"Custom",o),this.updateBalanceMode(),m.models.balanceMode.balanceChanged(),this.analytics.capture("hours customize",{is_paid_event:!0})},toggleBalanceMode:function(t){t&&(t.stopPropagation(),t.preventDefault());var n=m.models.balanceMode,e=!m.models.balanceMode.get("enabled");this.analytics.capture(e?"feature enable":"feature disable"),m.models.customization.set("balanceManualToggle",!0),n.set("enabled",e),this.$balanceToggler.toggleClass("on",e),this.$(".show-on-balance").mToggle("block",e),n.balanceChanged(),e&&(localStorage.setItem("balanceManualToggle",!0),this.calcCustomHeights(),this.updateBalanceMode())},toggleBalanceOption:function(t){t&&(t.stopPropagation(),t.preventDefault());var n=$(t.delegatedTarget).attr("data-option"),e=m.models.balanceMode;e.set(n,!e.get(n)),$(t.delegatedTarget).toggleClass("on",e.get(n)),m.models.balanceMode.balanceChanged(),this.analytics.capture("downtime options change")},chooseShortcut:function(t){var n=this,e=m.models.balanceMode;e.set("customTime",!1),this.$(".balance-shortcut").each((function(a,s){var o=$(s);if(s==t.delegatedTarget){var i=n.shortcuts[o.attr("data-shortcut")],l={hour:i.start.hour,minute:i.start.minute,noon:i.start.noon},c={hour:i.end.hour,minute:i.end.minute,noon:i.end.noon};e.set("start",l),e.set("end",c)}})),m.models.balanceMode.balanceChanged(),this.updateBalanceMode(),this.analytics.capture("hours select builtin")},setDays:function(t){t&&(t.stopPropagation(),t.preventDefault());var n=$(t.delegatedTarget),e=m.models.balanceMode;e.set("customDays",!1);var a,s=n.attr("data-days").split(","),o=e.get("days");for(a=0;a<7;a++)o[a]=!1;s.map((function(t){o[parseInt(t)]=!0})),this.updateBalanceDays(),m.models.balanceMode.balanceChanged(),this.analytics.capture("days select builtin")},toggleDay:function(t){t&&(t.stopPropagation(),t.preventDefault());var n=$(t.delegatedTarget),e=m.models.balanceMode,a=parseInt(n.attr("data-day"));e.get("daysCustom")[a]=!e.get("daysCustom")[a],n.toggleClass("active",e.get("daysCustom")[a]),this.updateBalanceDays(),m.models.balanceMode.balanceChanged(),this.analytics.capture("days customize",{is_paid_event:!0})},toggleCustomOptions:function(t){if(m.conditionalFeatures.featureEnabled("plus")){var n=$(t.delegatedTarget).closest(".slide-toggle"),e=n.find(".toggle-options-custom").data("custom");n.hasClass("show-custom")||(this.showCustomOptions(n),m.models.balanceMode.balanceChanged()),this.analytics.capture(("Days"===e?"days":"hours")+" select custom",{is_paid_event:!0})}else m.cmd("modal.open","UPSELL_BALANCE_MODE",{eventSource:"settings"})},showCustomOptions:function(t,n){var e=m.models.balanceMode,a=t.find(".toggle-options-custom");t.addClass("show-custom");var s="custom"+a.data("custom");if(!(this.animating[s]||a.height()>10)){this.animating[s]=!0;var o=this;setTimeout((function(){o.animating[s]=!1}),200),a.css({height:a.data("main-height")}),n||(e.set(s,!0),this.updateBalanceMode())}},hideCustomOptions:function(t){var n=this,e=t.find(".toggle-options-custom"),a="custom"+e.data("custom");this.animating[a]||e.height()<10||(this.animating[a]=!0,e.css({height:0}),setTimeout((function(){n.animating[a]=!1}),200),t.removeClass("show-custom"))},toggleAdvanced:function(t,n){void 0===n?(m.settingsUtils.toggleAdvanced(this),this.showAdvanced=!this.showAdvanced):(this.$buttonAdvanced.toggleClass("active",n),this.$wrapperAdvanced.mToggle("block",n))},cancelCustomOptions:function(t){this.toggleCustomOptions(t)}})}}),Object.assign({"./templates/main.hbs":n}),(t=>{m.commandManager&&m.commandManager.registerCommand("settings.panels.balance",(function(n){return t.styleLoaded||(t.styleLoaded=!0,t.styles.style()),new t.views.Main(n)}))}));