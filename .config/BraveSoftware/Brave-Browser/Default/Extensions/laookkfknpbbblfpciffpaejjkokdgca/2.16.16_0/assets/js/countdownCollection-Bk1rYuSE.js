const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/DateTimePicker-CTOVjFDj.js","assets/js/CollapsibleInput-griVwMPn.js","assets/js/SmoothReflow-Du5fECCq.js","assets/js/icon-alert--q0yLTMi.js","assets/js/localStorage-4iHdj-SC.js","assets/js/preload-helper-DmNsytk6.js","assets/js/string-GDe0WbEj.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/js/icon-x-caret-half-CZtcH_PM.js","assets/css/CollapsibleInput-fGIemUpW.css","assets/js/reactiveCustomization-DqGARD3C.js","assets/js/VueBase-W7f1OYgs.js","assets/js/index-DQvfDEB6.js","assets/js/migrateLegacyUserMessageHandler-DMvEmYM4.js","assets/js/main-FH8FpKq2.js","assets/css/index-C0DDMXTO.css","assets/js/index-CJJH83pl.js","assets/js/portal-vue.esm-SV1wohGy.js","assets/css/DateTimePicker-BAEHvAlA.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./preload-helper-DmNsytk6.js";import"./VueBase-W7f1OYgs.js";import{i as e,l as i,b as a,p as s,r as d,s as r,m as n}from"./itemModelMixin-B7XBtNZL.js";import{V as o}from"./icon-alert--q0yLTMi.js";import{d as u}from"./itemDataServiceMixins-DPsPiv13.js";import{m as h}from"./metricMetadata-D4pZaGht.js";import{c as p}from"./captureMixin-D0enqjOF.js";import"./index-DQvfDEB6.js";import"./localStorage-4iHdj-SC.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./main-FH8FpKq2.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-SV1wohGy.js";import"./reactiveCustomization-DqGARD3C.js";import"./namesMixin-DfNb5KMg.js";import"./string-GDe0WbEj.js";import"./clocks-DjzskNOU.js";const c=o.extend({mixins:[e,i],data:()=>({id:null,dateEdit:{date:null,hasHours:!1,utcDate:null},name:"",isTeam:null,pinned:!1,random:!1,readOnly:!1,props:["pinned","name","dateEdit"]}),unreactive:()=>({months:m.constants.monthNamesShort,daysOfWeek:m.constants.dayNamesShort,timeOptions:{hour:"numeric",minute:"2-digit"}}),computed:{date:()=>m.models.date,currentTime(){return this.date.get("date").getTime()},tooltip(){let t=new Date(this.dateEdit.utcDate);return`${this.daysOfWeek[t.getDay()]} ${this.months[t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`},time(){return new Date(this.dateEdit.utcDate).toLocaleTimeString("en-US",this.timeOptions)+" "},value(){let t,e=this.dateEdit.utcDate,i=this.calcTimeLeft(this.currentTime,e),a=this.dateEdit.hasHours,s="";return a&&i.minsTot<60?(t=0===i.minsTot?"Now":i.minsTot,s="m"):a&&i.hoursTot<24?(t=i.hoursTot,s="h"):(t=a||0!==i.nights?i.nights:"Today",s="d"),i.past&&(s+=" ago"),"Now"!==t&&"Today"!==t||(s=""),t+s}},watch:{"editProps.dateEdit.date"(t){this.editProps.dateEdit&&t&&t.getTime&&(this.editProps.dateEdit.utcDate=t.getTime())},"dateEdit.date"(t){this.dateEdit&&t&&t.getTime&&(this.dateEdit.utcDate=t.getTime())}},methods:{updateData:function(t){this.dateEdit.utcDate=Number.parseInt(t.utcDate),this.dateEdit.hasHours=t.hasHours,this.dateEdit.date=new Date(this.dateEdit.utcDate),this.archived=t.archived,this.isTeam=t.isTeam||!1,this.name=t.name,this.pinned=t.pinned,this.id=t.id,this.readOnly=t.readOnly},setDefaultDate:function(){if(!this.dateEdit.utcDate){let t=new Date((new Date).getTime()+6048e5);this.dateEdit.utcDate=t.getTime()}return this.dateEdit.utcDate},nightsBetween(t,e,i){let a=t,s=e;t>=e&&(a=e,s=t);let d=s-a,r=this.calcDayMs(a,i)+d,n=Math.floor(r/864e5);return 0!==n&&t>=e&&(n*=-1),n},calcDayMs(t,e){let i=t-new Date(t).setHours(0,0,0,0)-36e5*e;return i<0&&(i+=864e5),i},calcTimeLeft(t,e){let i=(e-t)/6e4,a=i/60,s=this.nightsBetween(t,e,4),d=i<0;return{minsTot:Math.abs(Math.round(i)),hoursTot:Math.abs(Math.round(a)),nights:Math.abs(s),past:d}}}}),l=new(o.extend({unreactive:()=>({type:"countdowns"}),mixins:[u]})),D=()=>t((()=>import("./DateTimePicker-CTOVjFDj.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])),g=new(o.extend({mixins:[a,s,d,r,n,p((()=>({is_paid_event:!0})))],unreactive(){return{...h.countdowns,Model:c,dataService:l,visibleSetting:"countdownVisible",sort:(t,e)=>this.sortPinned(t,e,this.dashSort),dashSort:(t,e)=>t.dateEdit.date-e.dateEdit.date,fields:[{property:"name",class:"item-body",type:"input",label:"Name",required:!0,dataTest:"name",autoCapitalize:!0},{property:"dateEdit",type:D},{property:"pinned",type:"toggle",label:"Pin to dashboard",dataTest:"pinned"}]}},methods:{getAddRequestBody:t=>(t.editProps.dateEdit.utcDate||(t.editProps.dateEdit.utcDate=t.setDefaultDate()),{name:m.utils.capitalizeFirstLetter(t.editProps.name),utcDate:t.editProps.dateEdit.utcDate,hasHours:t.editProps.dateEdit.hasHours,pinned:t.editProps.pinned})}}));export{g as default};