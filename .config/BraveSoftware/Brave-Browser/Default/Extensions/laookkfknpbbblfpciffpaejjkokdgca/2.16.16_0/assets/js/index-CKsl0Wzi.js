const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Utils-DZTJGEEY.js","assets/js/preload-helper-DmNsytk6.js","assets/js/ImageDrawer-AN7nU5pb.js","assets/js/FlashMessage-DPJrdJ6u.js","assets/js/icon-alert--q0yLTMi.js","assets/js/localStorage-4iHdj-SC.js","assets/js/string-GDe0WbEj.js","assets/js/globalKeyEventManager-Bi-yHy9P.js","assets/js/icon-close-BUGl_M7j.js","assets/css/FlashMessage-nc7yvAAd.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./preload-helper-DmNsytk6.js";import{y as a,z as r,e as o}from"./FlashMessage-DPJrdJ6u.js";const t=0,n=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;async function i(e){return new Promise((a=>{e.loading=!0;const t=new Image;e.element=t,t.addEventListener("load",(()=>{e.loading=!1,a()})),t.addEventListener("error",(()=>{e.element=void 0,e.error=!0,e.loading=!1,r().error(`${o} loading image: ${e.source}`),a()})),t.src=e.source}))}async function s(e){if("svg"!==e.type)return void(await i(e));e.loading=!0;const a=await fetch(e.source);a.ok?e.svgData=await a.text():(r().error(`${o} Image not found`),e.error=!0),e.loading=!1}function l(e,r,o,s){var l;const c=function(e,r,o){const{svgData:i}=e;if(!i)return"";const s=a(r,o);if(i.includes("fill"))return i.replace(n,(()=>s));const l=i.indexOf(">");return`${i.substring(t,l)} fill="${s}"${i.substring(l)}`}(e,o,(null==(l=s.opacity)?void 0:l.value)??1),d={color:o,gif:r.gif,data:{...e,svgData:c},loaded:!1,ratio:r.width/r.height,replaceColor:r.replaceColor,source:r.src};return new Promise((a=>{const r=new Blob([c],{type:"image/svg+xml"}),o=URL||window.URL||window.webkitURL||window,t=o.createObjectURL(r),n=new Image;n.addEventListener("load",(()=>{d.loaded=!0,d.element=n,a(d),o.revokeObjectURL(t)}));n.addEventListener("error",(()=>{(async()=>{o.revokeObjectURL(t);const r={...e,error:!1,loading:!0};await i(r),d.loaded=!0,d.element=r.element,a(d)})()})),n.src=t}))}const c=Object.freeze(Object.defineProperty({__proto__:null,downloadSvgImage:s,loadImage:i,replaceImageColor:l},Symbol.toStringTag,{value:"Module"})),d=3;const g=Object.freeze(Object.defineProperty({__proto__:null,loadImageShape:async function(a,r=!0){!function(a){a.loadImage||(a.loadImage=async r=>{if(!r.name&&!r.src)throw new Error(`${o} no image source provided`);if(a.images||(a.images=[]),!a.images.find((e=>e.name===r.name||e.source===r.src)))try{const o={gif:r.gif??!1,name:r.name??r.src,source:r.src,type:r.src.substring(r.src.length-d),error:!1,loading:!0,replaceColor:r.replaceColor,ratio:r.width&&r.height?r.width/r.height:void 0};let t;if(a.images.push(o),r.gif){const{loadGifImage:a}=await e((async()=>{const{loadGifImage:e}=await import("./Utils-DZTJGEEY.js");return{loadGifImage:e}}),__vite__mapDeps([0,1]));t=a}else t=r.replaceColor?s:i;await t(o)}catch{throw new Error(`${o} ${r.name??r.src} not found`)}})}(a);const{ImagePreloaderPlugin:t}=await e((async()=>{const{ImagePreloaderPlugin:e}=await import("./ImagePreloader-CLFQwLjn.js");return{ImagePreloaderPlugin:e}}),[]),{ImageDrawer:n}=await e((async()=>{const{ImageDrawer:e}=await import("./ImageDrawer-AN7nU5pb.js");return{ImageDrawer:e}}),__vite__mapDeps([2,0,1,3,4,5,6,7,8,9])),l=new t(a);await a.addPlugin(l,r),await a.addShape(["image","images"],new n(a),r)}},Symbol.toStringTag,{value:"Module"}));export{c as U,g as i,l as r};