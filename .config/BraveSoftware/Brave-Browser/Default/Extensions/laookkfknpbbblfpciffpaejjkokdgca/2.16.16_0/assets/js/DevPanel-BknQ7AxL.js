import{b as e,c as t,a,_ as r}from"./icon-trash-BQ1O-AfY.js";import{n,$ as i,u as o,_ as s,M as l,V as c,e as u}from"./icon-alert--q0yLTMi.js";import{a as d,u as f}from"./devAppsStore-CKlc26Sz.js";import{A as p}from"./AppLoading-DC9RO0Iq.js";import{_ as h}from"./icon-pin-BHeOuzvO.js";import{_ as v,a as g,b}from"./storage-YYEO5TB5.js";import{y,x as w}from"./index-DQvfDEB6.js";import{e as k,c as C,f as _}from"./onboardingStepCollection-BKBgZU5n.js";import x from"./modalDevPanelManager-BLa5_f0P.js";import{S as A}from"./Slider-CrF6GS0V.js";import{V as I}from"./ViewManager-3CiDAToO.js";import S from"./ItemList-BSNoFS8O.js";import{i as M,b as P}from"./itemModelMixin-B7XBtNZL.js";import"./VueBase-W7f1OYgs.js";import{d as j}from"./itemDataServiceMixins-DPsPiv13.js";import T from"./EditForm-CA8CeXdn.js";import{_ as E}from"./icon-cog-BFr_Pva7.js";import D from"./ViewContainer-CSG_YnUi.js";import{_ as N}from"./icon-plus-D4YOesIc.js";import{_ as O}from"./icon-close-BUGl_M7j.js";import"./localStorage-4iHdj-SC.js";import"./preload-helper-DmNsytk6.js";import"./string-GDe0WbEj.js";import"./main-CdnYxh7d.js";import"./linksViewState-M45gi0JR.js";import"./ViewState-_YxhE_TX.js";import"./main-FH8FpKq2.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./links-hR2TwzXn.js";import"./compareObjects-BF7sSNEf.js";import"./notesViewState-BRr9-GZ3.js";import"./notes-CabcPby9.js";import"./constants-CALDQiUE.js";import"./BaseDropdown-DBvV1Fy2.js";import"./BaseDropdownContent-BSCj37As.js";import"./index-D7SyL4qE.js";import"./portal-vue.esm-SV1wohGy.js";import"./icon-ellipsis-D3jS4u3x.js";import"./focusModeInsightsViewState-Cglfh_kk.js";import"./icon-asana-Csd73e1k.js";import"./focusModeHelpers-CiIJnkuY.js";import"./reactiveCustomization-DqGARD3C.js";import"./scenes-D8jpYIdj.js";import"./ocean-bubbles-GcKjBI5B.js";import"./PomodoroTimers-BWkB-14p.js";import"./SubscriptionSummary-eTeXKiGw.js";import"./authService-CGVTYYkM.js";import"./loginHelpers-BZASe8UD.js";import"./icon-confetti-Dz2LojDe.js";import"./siteBlockerGroups-E8GFJ9Dm.js";import"./constants-BT5o8PmI.js";import"./index-CJJH83pl.js";import"./namesMixin-DfNb5KMg.js";import"./globalKeyEventManager-Bi-yHy9P.js";import"./viewTransitionHooksMixin-CPPAEiBl.js";import"./EditField-D1Ugb_hY.js";import"./icon-tooltip-CN09iXOB.js";import"./SoftFocus-BUhesXB-.js";import"./FormToggle-CPdB9uoc.js";import"./ToggleSwitch-DUGISQcW.js";import"./FormMessage-D_iGngUy.js";import"./SmoothReflow-Du5fECCq.js";import"./allComponentsMounted-C3UsG_cA.js";import"./icon-back-D_TFrgyJ.js";import"./icon-hide-NFfBhfBx.js";const R=n({name:"DevNav",props:{activeTabId:{type:String,default:"Notification"},tabs:{type:Array,required:!0},dropdownActive:{type:Boolean,default:!1}},methods:{goToTab(e){this.$emit("update:dropdownActive",!1),this.$emit("goToTab",e)}}},(function(){var t=this,a=t._self._c;return a("div",{staticClass:"dev-nav"},[a("div",{staticClass:"nav-active",on:{click:function(e){return t.$emit("update:dropdownActive",!t.dropdownActive)}}},[t._v(" "+t._s(t.activeTabId)+" "),a("inline-svg",{staticClass:"icon icon-down",attrs:{src:e}})],1),t.dropdownActive?a("div",{staticClass:"nav-dropdown"},t._l(t.tabs,(function(e,r){return a("div",{key:r,staticClass:"nav-item",class:{active:t.activeTabId===e.name},on:{click:function(a){return a.stopPropagation(),t.goToTab(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0):t._e()])}),[],!1,null,"2ffdf463").exports;const L=n({name:"DevApps",components:{AppLoading:p},unreactive:()=>({apps:d,singleClicked:!1}),computed:{...i(f)},created(){Object.values(d).forEach((e=>e.refresh()))},methods:{camelCaseToReadable:o.camelCaseToReadable,onViewClick(e,t){const a=this.getSelectedItem(e,t);this.singleClicked?this.togglePinned(e,t,a):(this.devAppsStore.openView(e,t,a),this.singleClicked=!0,setTimeout((()=>this.singleClicked=!1),500))},onSelectChange(e,t){const a=this.getSelectedItem(e,t);this.isPinned(e,t)&&this.devAppsStore.pinApp(e,t,a),this.devAppsStore.openView(e,t,a)},togglePinned(e,t,a){this.isPinned(e,t)?this.devAppsStore.clearPinned():this.devAppsStore.pinApp(e,t,a)},isPinned(e,t){return this.devAppsStore.pinned.appId===e&&this.devAppsStore.pinned.viewId===t},isActive:(e,t)=>d[e].views[t].isActive(),getSelectedItem(e,t){var a;return null==(a=this.devAppsStore.selectedItems[e])?void 0:a[t]}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dev-apps"},[t("transition",{attrs:{name:"fade",duration:"100",mode:"out-in"}},[e.devAppsStore.loaded?t("div",{staticClass:"dev-apps-list"},e._l(e.apps,(function(a,r){return t("div",{key:r,staticClass:"dev-app"},[t("label",[e._v(e._s(e.camelCaseToReadable(r)))]),t("div",{staticClass:"dev-views"},e._l(a.views,(function(a,n){return t("div",{key:n,staticClass:"dev-view",class:{active:e.isActive(r,n),pinned:e.isPinned(r,n)},on:{click:function(t){return e.onViewClick(r,n)}}},[t("div",{staticClass:"title"},[e._v(e._s(e.camelCaseToReadable(n)))]),a.selectableItems&&Object.keys(a.selectableItems()).length?t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.devAppsStore.selectedItems[r][n],expression:"devAppsStore.selectedItems[appId][viewId]"}],staticClass:"items",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.devAppsStore.selectedItems[r],n,t.target.multiple?a:a[0])},function(t){return e.onSelectChange(r,n)}],click:function(e){e.stopPropagation()}}},e._l(a.selectableItems(),(function(a){return t("option",{key:a.id,domProps:{value:a.id}},[e._v(e._s(a.name))])})),0)]):e._e(),t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:h}})],1)})),0)])})),0):t("app-loading")],1),t("div",{staticClass:"button clear-pinned",on:{click:e.devAppsStore.clearPinned}},[e._v("Clear Pinned")])],1)}),[],!1,null,"8aff46ea").exports,$="https://account-staging.momentumdash.com/",G="http://localhost:8999/",B="https://preview.momentumdash.com/",F="http://localhost:3000/";const q=n({name:"DevInfo",email:m.isLoggedIn()?localStorage.getItem("email"):"(anonymous)",version:m.globals.version,apiOptions:[{label:"Live",value:"",accountUrlRootLocal:"http://localhost:8995/",accountUrlRootRemote:"https://account.momentumdash.com/",marketingUrlRootLocal:"http://localhost:3000/",marketingUrlRootRemote:"https://www.momentumdash.com/"},{label:"Staging",value:"staging",accountUrlRootLocal:G,accountUrlRootRemote:$,marketingUrlRootLocal:F,marketingUrlRootRemote:B},{label:"Local",value:"5000",accountUrlRootLocal:G,accountUrlRootRemote:$,marketingUrlRootLocal:F,marketingUrlRootRemote:B}],data:()=>({localAccount:localStorage.getItem("local-account"),localMarketing:localStorage.getItem("local-marketing"),apiCode:localStorage.getItem("api")||""}),computed:{accountSiteRoot(){let e=this.getApi();if(e)return this.localAccount?e.accountUrlRootLocal:e.accountUrlRootRemote},marketingSiteRoot(){const e=this.getApi();if(e)return this.localMarketing?e.marketingUrlRootLocal:e.marketingUrlRootRemote}},watch:{localAccount(e){localStorage[e?"setItem":"removeItem"]("local-account",e)},localMarketing(e){localStorage[e?"setItem":"removeItem"]("local-marketing",e)},accountSiteRoot(e){m.globals.urlRootAccount=e},marketingSiteRoot(e){m.globals.urlRootMarketing=e},apiCode(){this.beforeRefeshHandlerAdded||(window.addEventListener("beforeunload",this.beforeRefresh),this.beforeRefeshHandlerAdded=!0)}},destroyed(){window.removeEventListener("beforeunload",this.beforeRefresh)},methods:{getApi(){let e=this.$options.apiOptions.find((e=>e.value===this.apiCode));return e||(console.log("Custom API detected. Dev panel API switch disabled"),null)},beforeRefresh(){const e=localStorage.getItem("api");e!==this.apiCode&&(this.apiCode&&e||(this.clearStorage(),localStorage.removeItem("client_uuid")),localStorage.setItem("api",this.apiCode))},clearStorage(){m.utils.clearStorage()}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dev-info"},[t("div",{staticClass:"dev-info-item clear-ls",attrs:{title:"Clear Local Storage"},on:{click:e.clearStorage}},[t("inline-svg",{staticClass:"icon",attrs:{src:v}})],1),t("div",{staticClass:"dev-info-item account-site-root",attrs:{title:"Account Site Url: "+e.accountSiteRoot},on:{click:function(t){e.localAccount=!e.localAccount}}},[e.localAccount?t("inline-svg",{staticClass:"icon",attrs:{src:g}}):t("inline-svg",{staticClass:"icon",attrs:{src:b}})],1),t("div",{staticClass:"dev-info-item account-site-root",attrs:{title:"Marketing Site Url: "+e.marketingSiteRoot},on:{click:function(t){e.localMarketing=!e.localMarketing}}},[e.localMarketing?t("inline-svg",{staticClass:"icon",attrs:{src:g}}):t("inline-svg",{staticClass:"icon",attrs:{src:b}})],1),t("div",{staticClass:"dev-info-item select-wrapper api"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.apiCode,expression:"apiCode"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.apiCode=t.target.multiple?a:a[0]}}},e._l(e.$options.apiOptions,(function(a,r){return t("option",{key:r,domProps:{value:a.value}},[e._v(e._s(a.label))])})),0)]),e.$team?t("span",{staticClass:"dev-info-item badge badge-team"},[e._v("TEAM")]):e.$plus?t("span",{staticClass:"dev-info-item badge badge-plus"},[e._v("PLUS")]):e._e(),t("span",{staticClass:"dev-info-item email",attrs:{title:e.$options.email}},[e._v(e._s(e.$options.email))])])}),[],!1,null,"5cbb250f").exports;const U=n({name:"Features",data:()=>({dropdownOpened:!1,selectedFeatureType:"Notification",notificationType:"",fields:[{id:"title",type:"input",label:"Title",placeholder:"Title",value:"ðŸŽ‰Â New from Momentum: Focus Sessions!"},{id:"message",type:"input",label:"Description",placeholder:"",value:"Live facilitator-led focus sessions to help you overcome distraction and complete your #1 thing every day."},{id:"cta_text",type:"input",label:"Button Text",placeholder:"(Optional)",value:"Check it out"},{id:"cta_cmd",type:"input",label:"Button Url",placeholder:"(Optional)",value:"https://momentumdash.com/plus"},{id:"secondary_text",type:"input",label:"Secondary Button Text",placeholder:"(Optional)",value:"Learn more"},{id:"secondary_cmd",type:"input",label:"Secondary Button Url",placeholder:"(Optional)",value:"https://momentumdash.com/plus"},{id:"image_url",type:"input",label:"Image URL",placeholder:"(Optional)",value:"https://i.giphy.com/media/UO5elnTqo4vSg/giphy.webp"},{id:"targetArea",type:"input",label:"Target Area",placeholder:"(Optional)",value:""},{id:"notification_type",type:"toggle",label:"Team",value:!1},{id:"image_has_white_background",type:"toggle",label:"Image has white background",value:!1}]}),watch:{fields:{handler:function(){let e=this.fields.find((e=>"notification_type"==e.id));e&&!0===e.value?this.notificationType="team":this.notificationType=""},deep:!0}},methods:{handleToggle(e){let t=this.fields.find((t=>t.id==e));t&&(t.value=!t.value)},showOnDashboard(){let e={};this.fields.forEach((t=>e[t.id]=t.value)),m.commandManager.execute("notification.show.enhanced",Object.assign(e,{views:0,visible:!0,notification_type:this.notificationType}))}}},(function(){var e=this,a=e._self._c;return a("section",[a("div",{staticClass:"feature-block"},[e._l(e.fields,(function(r,n){return a("div",{key:n,staticClass:"feature-fields"},["toggle"!=r.type?a("label",{staticClass:"field-label"},[e._v(e._s(r.label))]):e._e(),"input"===r.type?a("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.value,expression:"field.value",modifiers:{trim:!0}}],attrs:{name:r.label,placeholder:r.placeholder,type:"text"},domProps:{value:r.value},on:{input:function(t){t.target.composing||e.$set(r,"value",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}):e._e(),"toggle"==r.type?a("div",{staticClass:"toggle-wrapper",class:{on:r.value},on:{click:function(t){return e.handleToggle(r.id)}}},[a("span",{staticClass:"toggle-label"},[e._v(e._s(r.label))]),a("span",{staticClass:"toggle-slider"},[a("inline-svg",{staticClass:"toggle-switch",attrs:{src:t}})],1)]):e._e()])})),a("span",{staticClass:"button button-show",on:{click:e.showOnDashboard}},[e._v("Show")])],2)])}),[],!1,null,"fc787766").exports,V=e=>+e.toFixed(10),z=(e,t)=>({x:V(e),y:V(t)}),K=e=>{return(t=e,t.slice(t.indexOf("(")+1,t.lastIndexOf(")")).split(",").map((e=>e.trim())).filter((e=>""!==e))).map((e=>(e=>Number.isNaN(Number(e))?e:Number(e))(e)));var t};function H(e,t,a){return(1-e)*(1-e)*(1-e)*0+(1-e)*(1-e)*3*e*t+3*(1-e)*(e*e)*a+e*e*e*1}const Y={ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"};function X(e,t){const a=`Error parsing "${e}".`;if(Y[e]&&(e=Y[e]),e.includes("steps(")){const t=K(e),[r,n]=t;if(t.length<1||t.length>2)throw new Error(`${a} Got ${t.length} arguments but expected 1 or 2.`);if("number"!=typeof t[0])throw new Error(`${a} "${t[0]}" is not a number.`);if(2===t.length&&"string"!=typeof t[1])throw new Error(`${a} "${t[1]}" is not a string.`);return function(e,t="skip-end"){const a=[];let r=0;for(;r<e;){const n=r/e,i=(r+1)/e;let o;if("skip-none"===t)o=r/(e-1);else if("skip-both"===t)o=(r+1)/(e+1);else if("skip-start"===t||"start"===t)o=(r+1)/e;else{if("skip-end"!==t&&"end"!==t)throw new Error(`Error can't recognise step skip "${t}"`);o=r/e}a.push(z(n,o)),a.push(z(i,o)),++r}return a}(r,n)}if(e.includes("cubic-bezier(")){const r=K(e),[n,i,o,s]=r;if(4!==r.length)throw new Error(`${a} Got ${r.length} arguments but expected 4.`);return r.forEach((e=>{if("number"!=typeof e)throw new Error(`${a} "${e}" is not a number.`)})),function(e,t,a,r,n=10){const i=1/n;let o=[];for(let s=0;s<=1;s+=i)o.push({x:H(s,e,a),y:H(s,t,r)});return o.map((e=>z(e.x,e.y)))}(n,i,o,s,t)}throw new Error(`${a} If not a typo then please create a GitHub issue :)`)}var W,J,Q,Z,ee,te,ae,re,ne,ie;function oe(){if(re)return ae;re=1;var e="-".charCodeAt(0),t="+".charCodeAt(0),a=".".charCodeAt(0),r="e".charCodeAt(0),n="E".charCodeAt(0);return ae=function(i){var o,s,l,c=0,u=i.length;if(0===u||!function(r){var n,i=r.charCodeAt(0);if(i===t||i===e){if((n=r.charCodeAt(1))>=48&&n<=57)return!0;var o=r.charCodeAt(2);return n===a&&o>=48&&o<=57}return i===a?(n=r.charCodeAt(1))>=48&&n<=57:i>=48&&i<=57}(i))return!1;for((o=i.charCodeAt(c))!==t&&o!==e||c++;c<u&&!((o=i.charCodeAt(c))<48||o>57);)c+=1;if(o=i.charCodeAt(c),s=i.charCodeAt(c+1),o===a&&s>=48&&s<=57)for(c+=2;c<u&&!((o=i.charCodeAt(c))<48||o>57);)c+=1;if(o=i.charCodeAt(c),s=i.charCodeAt(c+1),l=i.charCodeAt(c+2),(o===r||o===n)&&(s>=48&&s<=57||(s===t||s===e)&&l>=48&&l<=57))for(c+=s===t||s===e?3:2;c<u&&!((o=i.charCodeAt(c))<48||o>57);)c+=1;return{number:i.slice(0,c),unit:i.slice(c)}}}const se=y(function(){if(ie)return ne;ie=1;var e=function(){if(J)return W;J=1;var e="(".charCodeAt(0),t=")".charCodeAt(0),a="'".charCodeAt(0),r='"'.charCodeAt(0),n="\\".charCodeAt(0),i="/".charCodeAt(0),o=",".charCodeAt(0),s=":".charCodeAt(0),l="*".charCodeAt(0),c="u".charCodeAt(0),u="U".charCodeAt(0),d="+".charCodeAt(0),f=/^[a-f0-9?-]+$/i;return W=function(p){for(var h,m,v,g,b,y,w,k,C,_=[],x=p,A=0,I=x.charCodeAt(A),S=x.length,M=[{nodes:_}],P=0,j="",T="",E="";A<S;)if(I<=32){h=A;do{h+=1,I=x.charCodeAt(h)}while(I<=32);g=x.slice(A,h),v=_[_.length-1],I===t&&P?E=g:v&&"div"===v.type?(v.after=g,v.sourceEndIndex+=g.length):I===o||I===s||I===i&&x.charCodeAt(h+1)!==l&&(!C||C&&"function"===C.type&&"calc"!==C.value)?T=g:_.push({type:"space",sourceIndex:A,sourceEndIndex:h,value:g}),A=h}else if(I===a||I===r){h=A,g={type:"string",sourceIndex:A,quote:m=I===a?"'":'"'};do{if(b=!1,~(h=x.indexOf(m,h+1)))for(y=h;x.charCodeAt(y-1)===n;)y-=1,b=!b;else h=(x+=m).length-1,g.unclosed=!0}while(b);g.value=x.slice(A+1,h),g.sourceEndIndex=g.unclosed?h:h+1,_.push(g),A=h+1,I=x.charCodeAt(A)}else if(I===i&&x.charCodeAt(A+1)===l)g={type:"comment",sourceIndex:A,sourceEndIndex:(h=x.indexOf("*/",A))+2},-1===h&&(g.unclosed=!0,h=x.length,g.sourceEndIndex=h),g.value=x.slice(A+2,h),_.push(g),A=h+2,I=x.charCodeAt(A);else if(I!==i&&I!==l||!C||"function"!==C.type||"calc"!==C.value)if(I===i||I===o||I===s)g=x[A],_.push({type:"div",sourceIndex:A-T.length,sourceEndIndex:A+g.length,value:g,before:T,after:""}),T="",A+=1,I=x.charCodeAt(A);else if(e===I){h=A;do{h+=1,I=x.charCodeAt(h)}while(I<=32);if(k=A,g={type:"function",sourceIndex:A-j.length,value:j,before:x.slice(k+1,h)},A=h,"url"===j&&I!==a&&I!==r){h-=1;do{if(b=!1,~(h=x.indexOf(")",h+1)))for(y=h;x.charCodeAt(y-1)===n;)y-=1,b=!b;else h=(x+=")").length-1,g.unclosed=!0}while(b);w=h;do{w-=1,I=x.charCodeAt(w)}while(I<=32);k<w?(g.nodes=A!==w+1?[{type:"word",sourceIndex:A,sourceEndIndex:w+1,value:x.slice(A,w+1)}]:[],g.unclosed&&w+1!==h?(g.after="",g.nodes.push({type:"space",sourceIndex:w+1,sourceEndIndex:h,value:x.slice(w+1,h)})):(g.after=x.slice(w+1,h),g.sourceEndIndex=h)):(g.after="",g.nodes=[]),A=h+1,g.sourceEndIndex=g.unclosed?h:A,I=x.charCodeAt(A),_.push(g)}else P+=1,g.after="",g.sourceEndIndex=A+1,_.push(g),M.push(g),_=g.nodes=[],C=g;j=""}else if(t===I&&P)A+=1,I=x.charCodeAt(A),C.after=E,C.sourceEndIndex+=E.length,E="",P-=1,M[M.length-1].sourceEndIndex=A,M.pop(),_=(C=M[P]).nodes;else{h=A;do{I===n&&(h+=1),h+=1,I=x.charCodeAt(h)}while(h<S&&!(I<=32||I===a||I===r||I===o||I===s||I===i||I===e||I===l&&C&&"function"===C.type&&"calc"===C.value||I===i&&"function"===C.type&&"calc"===C.value||I===t&&P));g=x.slice(A,h),e===I?j=g:c!==g.charCodeAt(0)&&u!==g.charCodeAt(0)||d!==g.charCodeAt(1)||!f.test(g.slice(2))?_.push({type:"word",sourceIndex:A,sourceEndIndex:h,value:g}):_.push({type:"unicode-range",sourceIndex:A,sourceEndIndex:h,value:g}),A=h}else g=x[A],_.push({type:"word",sourceIndex:A-T.length,sourceEndIndex:A+g.length,value:g}),A+=1,I=x.charCodeAt(A);for(A=M.length-1;A;A-=1)M[A].unclosed=!0,M[A].sourceEndIndex=x.length;return M[0].nodes}}(),t=Z?Q:(Z=1,Q=function e(t,a,r){var n,i,o,s;for(n=0,i=t.length;n<i;n+=1)o=t[n],r||(s=a(o,n,t)),!1!==s&&"function"===o.type&&Array.isArray(o.nodes)&&e(o.nodes,a,r),r&&a(o,n,t)}),a=function(){if(te)return ee;function e(e,a){var r,n,i=e.type,o=e.value;return a&&void 0!==(n=a(e))?n:"word"===i||"space"===i?o:"string"===i?(r=e.quote||"")+o+(e.unclosed?"":r):"comment"===i?"/*"+o+(e.unclosed?"":"*/"):"div"===i?(e.before||"")+o+(e.after||""):Array.isArray(e.nodes)?(r=t(e.nodes,a),"function"!==i?r:o+"("+(e.before||"")+r+(e.after||"")+(e.unclosed?"":")")):o}function t(t,a){var r,n;if(Array.isArray(t)){for(r="",n=t.length-1;~n;n-=1)r=e(t[n],a)+r;return r}return e(t,a)}return te=1,ee=t}();function r(t){return this instanceof r?(this.nodes=e(t),this):new r(t)}return r.prototype.toString=function(){return Array.isArray(this.nodes)?a(this.nodes):""},r.prototype.walk=function(e,a){return t(this.nodes,e,a),this},r.unit=oe(),r.walk=t,r.stringify=a,ne=r}());var le,ce={exports:{}};
/**
* chroma.js - JavaScript library for color conversions
*
* Copyright (c) 2011-2019, Gregor Aisch
* All rights reserved.
*
* Redistribution and use in source and binary forms, with or without
* modification, are permitted provided that the following conditions are met:
*
* 1. Redistributions of source code must retain the above copyright notice, this
* list of conditions and the following disclaimer.
*
* 2. Redistributions in binary form must reproduce the above copyright notice,
* this list of conditions and the following disclaimer in the documentation
* and/or other materials provided with the distribution.
*
* 3. The name Gregor Aisch may not be used to endorse or promote products
* derived from this software without specific prior written permission.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
* AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
* DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
* INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
* BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
* OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
* EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*
* -------------------------------------------------------
*
* chroma.js includes colors from colorbrewer2.org, which are released under
* the following license:
*
* Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
* and The Pennsylvania State University.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
* either express or implied. See the License for the specific
* language governing permissions and limitations under the License.
*
* ------------------------------------------------------
*
* Named colors are taken from X11 Color Names.
* http://www.w3.org/TR/css3-color/#svg-color
*
* @preserve
*/const ue=y((le||(le=1,ce.exports=function(){for(var e=function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=1),e<t?t:e>a?a:e},t=e,a=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var a=0;a<=3;a++)a<3?((e[a]<0||e[a]>255)&&(e._clipped=!0),e[a]=t(e[a],0,255)):3===a&&(e[a]=t(e[a],0,1));return e},r={},n=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<i.length;n+=1){var o=i[n];r["[object "+o+"]"]=o.toLowerCase()}var s=function(e){return r[Object.prototype.toString.call(e)]||"object"},l=s,c=function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==l(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},u=s,d=function(e){if(e.length<2)return null;var t=e.length-1;return"string"==u(e[t])?e[t].toLowerCase():null},f=Math.PI,p={clip_rgb:a,limit:e,type:s,unpack:c,last:d,PI:f,TWOPI:2*f,PITHIRD:f/3,DEG2RAD:f/180,RAD2DEG:180/f},h={format:{},autodetect:[]},m=p.last,v=p.clip_rgb,g=p.type,b=h,y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=this;if("object"===g(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=m(e),n=!1;if(!r){n=!0,b.sorted||(b.autodetect=b.autodetect.sort((function(e,t){return t.p-e.p})),b.sorted=!0);for(var i=0,o=b.autodetect;i<o.length;i+=1){var s=o[i];if(r=s.test.apply(s,e))break}}if(!b.format[r])throw new Error("unknown format: "+e);var l=b.format[r].apply(null,n?e:e.slice(0,-1));a._rgb=v(l),3===a._rgb.length&&a._rgb.push(1)};y.prototype.toString=function(){return"function"==g(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var w=y,k=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(k.Color,[null].concat(e)))};k.Color=w,k.version="2.4.2";var C=k,_=p.unpack,x=Math.max,A=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=_(e,"rgb"),r=a[0],n=a[1],i=a[2],o=1-x(r/=255,x(n/=255,i/=255)),s=o<1?1/(1-o):0;return[(1-r-o)*s,(1-n-o)*s,(1-i-o)*s,o]},I=A,S=p.unpack,M=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=S(e,"cmyk"))[0],r=e[1],n=e[2],i=e[3],o=e.length>4?e[4]:1;return 1===i?[0,0,0,o]:[a>=1?0:255*(1-a)*(1-i),r>=1?0:255*(1-r)*(1-i),n>=1?0:255*(1-n)*(1-i),o]},P=M,j=C,T=w,E=h,D=p.unpack,N=p.type,O=I;T.prototype.cmyk=function(){return O(this._rgb)},j.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(T,[null].concat(e,["cmyk"])))},E.format.cmyk=P,E.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=D(e,"cmyk"),"array"===N(e)&&4===e.length)return"cmyk"}});var R=p.unpack,L=p.last,$=function(e){return Math.round(100*e)/100},G=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=R(e,"hsla"),r=L(e)||"lsa";return a[0]=$(a[0]||0),a[1]=$(100*a[1])+"%",a[2]=$(100*a[2])+"%","hsla"===r||a.length>3&&a[3]<1?(a[3]=a.length>3?a[3]:1,r="hsla"):a.length=3,r+"("+a.join(",")+")"},B=G,F=p.unpack,q=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=F(e,"rgba"))[0],r=e[1],n=e[2];a/=255,r/=255,n/=255;var i,o,s=Math.min(a,r,n),l=Math.max(a,r,n),c=(l+s)/2;return l===s?(i=0,o=Number.NaN):i=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),a==l?o=(r-n)/(l-s):r==l?o=2+(n-a)/(l-s):n==l&&(o=4+(a-r)/(l-s)),(o*=60)<0&&(o+=360),e.length>3&&void 0!==e[3]?[o,i,c,e[3]]:[o,i,c]},U=q,V=p.unpack,z=p.last,K=B,H=U,Y=Math.round,X=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=V(e,"rgba"),r=z(e)||"rgb";return"hsl"==r.substr(0,3)?K(H(a),r):(a[0]=Y(a[0]),a[1]=Y(a[1]),a[2]=Y(a[2]),("rgba"===r||a.length>3&&a[3]<1)&&(a[3]=a.length>3?a[3]:1,r="rgba"),r+"("+a.slice(0,"rgb"===r?3:4).join(",")+")")},W=X,J=p.unpack,Q=Math.round,Z=function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var r,n,i,o=(t=J(t,"hsl"))[0],s=t[1],l=t[2];if(0===s)r=n=i=255*l;else{var c=[0,0,0],u=[0,0,0],d=l<.5?l*(1+s):l+s-l*s,f=2*l-d,p=o/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var h=0;h<3;h++)c[h]<0&&(c[h]+=1),c[h]>1&&(c[h]-=1),6*c[h]<1?u[h]=f+6*(d-f)*c[h]:2*c[h]<1?u[h]=d:3*c[h]<2?u[h]=f+(d-f)*(2/3-c[h])*6:u[h]=f;r=(e=[Q(255*u[0]),Q(255*u[1]),Q(255*u[2])])[0],n=e[1],i=e[2]}return t.length>3?[r,n,i,t[3]]:[r,n,i,1]},ee=Z,te=ee,ae=h,re=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,ne=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,ie=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,oe=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,se=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,le=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ce=Math.round,ue=function(e){var t;if(e=e.toLowerCase().trim(),ae.format.named)try{return ae.format.named(e)}catch(h){}if(t=e.match(re)){for(var a=t.slice(1,4),r=0;r<3;r++)a[r]=+a[r];return a[3]=1,a}if(t=e.match(ne)){for(var n=t.slice(1,5),i=0;i<4;i++)n[i]=+n[i];return n}if(t=e.match(ie)){for(var o=t.slice(1,4),s=0;s<3;s++)o[s]=ce(2.55*o[s]);return o[3]=1,o}if(t=e.match(oe)){for(var l=t.slice(1,5),c=0;c<3;c++)l[c]=ce(2.55*l[c]);return l[3]=+l[3],l}if(t=e.match(se)){var u=t.slice(1,4);u[1]*=.01,u[2]*=.01;var d=te(u);return d[3]=1,d}if(t=e.match(le)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var p=te(f);return p[3]=+t[4],p}};ue.test=function(e){return re.test(e)||ne.test(e)||ie.test(e)||oe.test(e)||se.test(e)||le.test(e)};var de=ue,fe=C,pe=w,he=h,me=p.type,ve=W,ge=de;pe.prototype.css=function(e){return ve(this._rgb,e)},fe.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(pe,[null].concat(e,["css"])))},he.format.css=ge,he.autodetect.push({p:5,test:function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];if(!t.length&&"string"===me(e)&&ge.test(e))return"css"}});var be=w,ye=C,we=h,ke=p.unpack;we.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=ke(e,"rgba");return a[0]*=255,a[1]*=255,a[2]*=255,a},ye.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(be,[null].concat(e,["gl"])))},be.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Ce=p.unpack,_e=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r=Ce(e,"rgb"),n=r[0],i=r[1],o=r[2],s=Math.min(n,i,o),l=Math.max(n,i,o),c=l-s,u=100*c/255,d=s/(255-c)*100;return 0===c?a=Number.NaN:(n===l&&(a=(i-o)/c),i===l&&(a=2+(o-n)/c),o===l&&(a=4+(n-i)/c),(a*=60)<0&&(a+=360)),[a,u,d]},xe=_e,Ae=p.unpack,Ie=Math.floor,Se=function(){for(var e,t,a,r,n,i,o=[],s=arguments.length;s--;)o[s]=arguments[s];var l,c,u,d=(o=Ae(o,"hcg"))[0],f=o[1],p=o[2];p*=255;var h=255*f;if(0===f)l=c=u=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var m=Ie(d/=60),v=d-m,g=p*(1-f),b=g+h*(1-v),y=g+h*v,w=g+h;switch(m){case 0:l=(e=[w,y,g])[0],c=e[1],u=e[2];break;case 1:l=(t=[b,w,g])[0],c=t[1],u=t[2];break;case 2:l=(a=[g,w,y])[0],c=a[1],u=a[2];break;case 3:l=(r=[g,b,w])[0],c=r[1],u=r[2];break;case 4:l=(n=[y,g,w])[0],c=n[1],u=n[2];break;case 5:l=(i=[w,g,b])[0],c=i[1],u=i[2]}}return[l,c,u,o.length>3?o[3]:1]},Me=Se,Pe=p.unpack,je=p.type,Te=C,Ee=w,De=h,Ne=xe;Ee.prototype.hcg=function(){return Ne(this._rgb)},Te.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ee,[null].concat(e,["hcg"])))},De.format.hcg=Me,De.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pe(e,"hcg"),"array"===je(e)&&3===e.length)return"hcg"}});var Oe=p.unpack,Re=p.last,Le=Math.round,$e=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Oe(e,"rgba"),r=a[0],n=a[1],i=a[2],o=a[3],s=Re(e)||"auto";void 0===o&&(o=1),"auto"===s&&(s=o<1?"rgba":"rgb");var l="000000"+((r=Le(r))<<16|(n=Le(n))<<8|(i=Le(i))).toString(16);l=l.substr(l.length-6);var c="0"+Le(255*o).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},Ge=$e,Be=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Fe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,qe=function(e){if(e.match(Be)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(Fe)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var a=parseInt(e,16);return[a>>24&255,a>>16&255,a>>8&255,Math.round((255&a)/255*100)/100]}throw new Error("unknown hex color: "+e)},Ue=C,Ve=w,ze=p.type,Ke=h,He=Ge;Ve.prototype.hex=function(e){return He(this._rgb,e)},Ue.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Ve,[null].concat(e,["hex"])))},Ke.format.hex=qe,Ke.autodetect.push({p:4,test:function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];if(!t.length&&"string"===ze(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var Ye=p.unpack,Xe=p.TWOPI,We=Math.min,Je=Math.sqrt,Qe=Math.acos,Ze=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r=Ye(e,"rgb"),n=r[0],i=r[1],o=r[2],s=We(n/=255,i/=255,o/=255),l=(n+i+o)/3,c=l>0?1-s/l:0;return 0===c?a=NaN:(a=(n-i+(n-o))/2,a/=Je((n-i)*(n-i)+(n-o)*(i-o)),a=Qe(a),o>i&&(a=Xe-a),a/=Xe),[360*a,c,l]},et=Ze,tt=p.unpack,at=p.limit,rt=p.TWOPI,nt=p.PITHIRD,it=Math.cos,ot=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r,n,i=(e=tt(e,"hsi"))[0],o=e[1],s=e[2];return isNaN(i)&&(i=0),isNaN(o)&&(o=0),i>360&&(i-=360),i<0&&(i+=360),(i/=360)<1/3?r=1-((n=(1-o)/3)+(a=(1+o*it(rt*i)/it(nt-rt*i))/3)):i<2/3?n=1-((a=(1-o)/3)+(r=(1+o*it(rt*(i-=1/3))/it(nt-rt*i))/3)):a=1-((r=(1-o)/3)+(n=(1+o*it(rt*(i-=2/3))/it(nt-rt*i))/3)),[255*(a=at(s*a*3)),255*(r=at(s*r*3)),255*(n=at(s*n*3)),e.length>3?e[3]:1]},st=ot,lt=p.unpack,ct=p.type,ut=C,dt=w,ft=h,pt=et;dt.prototype.hsi=function(){return pt(this._rgb)},ut.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(dt,[null].concat(e,["hsi"])))},ft.format.hsi=st,ft.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=lt(e,"hsi"),"array"===ct(e)&&3===e.length)return"hsi"}});var ht=p.unpack,mt=p.type,vt=C,gt=w,bt=h,yt=U;gt.prototype.hsl=function(){return yt(this._rgb)},vt.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(gt,[null].concat(e,["hsl"])))},bt.format.hsl=ee,bt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ht(e,"hsl"),"array"===mt(e)&&3===e.length)return"hsl"}});var wt=p.unpack,kt=Math.min,Ct=Math.max,_t=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r,n,i=(e=wt(e,"rgb"))[0],o=e[1],s=e[2],l=kt(i,o,s),c=Ct(i,o,s),u=c-l;return n=c/255,0===c?(a=Number.NaN,r=0):(r=u/c,i===c&&(a=(o-s)/u),o===c&&(a=2+(s-i)/u),s===c&&(a=4+(i-o)/u),(a*=60)<0&&(a+=360)),[a,r,n]},xt=_t,At=p.unpack,It=Math.floor,St=function(){for(var e,t,a,r,n,i,o=[],s=arguments.length;s--;)o[s]=arguments[s];var l,c,u,d=(o=At(o,"hsv"))[0],f=o[1],p=o[2];if(p*=255,0===f)l=c=u=p;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var h=It(d/=60),m=d-h,v=p*(1-f),g=p*(1-f*m),b=p*(1-f*(1-m));switch(h){case 0:l=(e=[p,b,v])[0],c=e[1],u=e[2];break;case 1:l=(t=[g,p,v])[0],c=t[1],u=t[2];break;case 2:l=(a=[v,p,b])[0],c=a[1],u=a[2];break;case 3:l=(r=[v,g,p])[0],c=r[1],u=r[2];break;case 4:l=(n=[b,v,p])[0],c=n[1],u=n[2];break;case 5:l=(i=[p,v,g])[0],c=i[1],u=i[2]}}return[l,c,u,o.length>3?o[3]:1]},Mt=St,Pt=p.unpack,jt=p.type,Tt=C,Et=w,Dt=h,Nt=xt;Et.prototype.hsv=function(){return Nt(this._rgb)},Tt.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Et,[null].concat(e,["hsv"])))},Dt.format.hsv=Mt,Dt.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Pt(e,"hsv"),"array"===jt(e)&&3===e.length)return"hsv"}});var Ot={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Rt=Ot,Lt=p.unpack,$t=Math.pow,Gt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Lt(e,"rgb"),r=a[0],n=a[1],i=a[2],o=qt(r,n,i),s=o[0],l=o[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-o[2])]},Bt=function(e){return(e/=255)<=.04045?e/12.92:$t((e+.055)/1.055,2.4)},Ft=function(e){return e>Rt.t3?$t(e,1/3):e/Rt.t2+Rt.t0},qt=function(e,t,a){return e=Bt(e),t=Bt(t),a=Bt(a),[Ft((.4124564*e+.3575761*t+.1804375*a)/Rt.Xn),Ft((.2126729*e+.7151522*t+.072175*a)/Rt.Yn),Ft((.0193339*e+.119192*t+.9503041*a)/Rt.Zn)]},Ut=Gt,Vt=Ot,zt=p.unpack,Kt=Math.pow,Ht=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,r,n,i=(e=zt(e,"lab"))[0],o=e[1],s=e[2];return r=(i+16)/116,a=isNaN(o)?r:r+o/500,n=isNaN(s)?r:r-s/200,r=Vt.Yn*Xt(r),a=Vt.Xn*Xt(a),n=Vt.Zn*Xt(n),[Yt(3.2404542*a-1.5371385*r-.4985314*n),Yt(-.969266*a+1.8760108*r+.041556*n),Yt(.0556434*a-.2040259*r+1.0572252*n),e.length>3?e[3]:1]},Yt=function(e){return 255*(e<=.00304?12.92*e:1.055*Kt(e,1/2.4)-.055)},Xt=function(e){return e>Vt.t1?e*e*e:Vt.t2*(e-Vt.t0)},Wt=Ht,Jt=p.unpack,Qt=p.type,Zt=C,ea=w,ta=h,aa=Ut;ea.prototype.lab=function(){return aa(this._rgb)},Zt.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(ea,[null].concat(e,["lab"])))},ta.format.lab=Wt,ta.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Jt(e,"lab"),"array"===Qt(e)&&3===e.length)return"lab"}});var ra=p.unpack,na=p.RAD2DEG,ia=Math.sqrt,oa=Math.atan2,sa=Math.round,la=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=ra(e,"lab"),r=a[0],n=a[1],i=a[2],o=ia(n*n+i*i),s=(oa(i,n)*na+360)%360;return 0===sa(1e4*o)&&(s=Number.NaN),[r,o,s]},ca=la,ua=p.unpack,da=Ut,fa=ca,pa=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=ua(e,"rgb"),r=a[0],n=a[1],i=a[2],o=da(r,n,i),s=o[0],l=o[1],c=o[2];return fa(s,l,c)},ha=pa,ma=p.unpack,va=p.DEG2RAD,ga=Math.sin,ba=Math.cos,ya=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=ma(e,"lch"),r=a[0],n=a[1],i=a[2];return isNaN(i)&&(i=0),[r,ba(i*=va)*n,ga(i)*n]},wa=ya,ka=p.unpack,Ca=wa,_a=Wt,xa=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=ka(e,"lch"))[0],r=e[1],n=e[2],i=Ca(a,r,n),o=i[0],s=i[1],l=i[2],c=_a(o,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},Aa=xa,Ia=p.unpack,Sa=Aa,Ma=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Ia(e,"hcl").reverse();return Sa.apply(void 0,a)},Pa=Ma,ja=p.unpack,Ta=p.type,Ea=C,Da=w,Na=h,Oa=ha;Da.prototype.lch=function(){return Oa(this._rgb)},Da.prototype.hcl=function(){return Oa(this._rgb).reverse()},Ea.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Da,[null].concat(e,["lch"])))},Ea.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Da,[null].concat(e,["hcl"])))},Na.format.lch=Aa,Na.format.hcl=Pa,["lch","hcl"].forEach((function(e){return Na.autodetect.push({p:2,test:function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];if(t=ja(t,e),"array"===Ta(t)&&3===t.length)return e}})}));var Ra={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},La=w,$a=h,Ga=p.type,Ba=Ra,Fa=qe,qa=Ge;La.prototype.name=function(){for(var e=qa(this._rgb,"rgb"),t=0,a=Object.keys(Ba);t<a.length;t+=1){var r=a[t];if(Ba[r]===e)return r.toLowerCase()}return e},$a.format.named=function(e){if(e=e.toLowerCase(),Ba[e])return Fa(Ba[e]);throw new Error("unknown color name: "+e)},$a.autodetect.push({p:5,test:function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];if(!t.length&&"string"===Ga(e)&&Ba[e.toLowerCase()])return"named"}});var Ua=p.unpack,Va=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Ua(e,"rgb");return(a[0]<<16)+(a[1]<<8)+a[2]},za=Va,Ka=p.type,Ha=function(e){if("number"==Ka(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Ya=C,Xa=w,Wa=h,Ja=p.type,Qa=za;Xa.prototype.num=function(){return Qa(this._rgb)},Ya.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Xa,[null].concat(e,["num"])))},Wa.format.num=Ha,Wa.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Ja(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Za=C,er=w,tr=h,ar=p.unpack,rr=p.type,nr=Math.round;er.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(nr)},er.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,a){return a<3?!1===e?t:nr(t):t}))},Za.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(er,[null].concat(e,["rgb"])))},tr.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=ar(e,"rgba");return void 0===a[3]&&(a[3]=1),a},tr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ar(e,"rgba"),"array"===rr(e)&&(3===e.length||4===e.length&&"number"==rr(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var ir=Math.log,or=function(e){var t,a,r,n=e/100;return n<66?(t=255,a=n<6?0:-155.25485562709179-.44596950469579133*(a=n-2)+104.49216199393888*ir(a),r=n<20?0:.8274096064007395*(r=n-10)-254.76935184120902+115.67994401066147*ir(r)):(t=351.97690566805693+.114206453784165*(t=n-55)-40.25366309332127*ir(t),a=325.4494125711974+.07943456536662342*(a=n-50)-28.0852963507957*ir(a),r=255),[t,a,r,1]},sr=or,lr=p.unpack,cr=Math.round,ur=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a,r=lr(e,"rgb"),n=r[0],i=r[2],o=1e3,s=4e4,l=.4;s-o>l;){var c=sr(a=.5*(s+o));c[2]/c[0]>=i/n?s=a:o=a}return cr(a)},dr=C,fr=w,pr=h,hr=ur;fr.prototype.temp=fr.prototype.kelvin=fr.prototype.temperature=function(){return hr(this._rgb)},dr.temp=dr.kelvin=dr.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(fr,[null].concat(e,["temp"])))},pr.format.temp=pr.format.kelvin=pr.format.temperature=or;var mr=p.unpack,vr=Math.cbrt,gr=Math.pow,br=Math.sign,yr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=mr(e,"rgb"),r=a[0],n=a[1],i=a[2],o=[kr(r/255),kr(n/255),kr(i/255)],s=o[0],l=o[1],c=o[2],u=vr(.4122214708*s+.5363325363*l+.0514459929*c),d=vr(.2119034982*s+.6806995451*l+.1073969566*c),f=vr(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*d-.0040720468*f,1.9779984951*u-2.428592205*d+.4505937099*f,.0259040371*u+.7827717662*d-.808675766*f]},wr=yr;function kr(e){var t=Math.abs(e);return t<.04045?e/12.92:(br(e)||1)*gr((t+.055)/1.055,2.4)}var Cr=p.unpack,_r=Math.pow,xr=Math.sign,Ar=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=Cr(e,"lab"))[0],r=e[1],n=e[2],i=_r(a+.3963377774*r+.2158037573*n,3),o=_r(a-.1055613458*r-.0638541728*n,3),s=_r(a-.0894841775*r-1.291485548*n,3);return[255*Sr(4.0767416621*i-3.3077115913*o+.2309699292*s),255*Sr(-1.2684380046*i+2.6097574011*o-.3413193965*s),255*Sr(-.0041960863*i-.7034186147*o+1.707614701*s),e.length>3?e[3]:1]},Ir=Ar;function Sr(e){var t=Math.abs(e);return t>.0031308?(xr(e)||1)*(1.055*_r(t,1/2.4)-.055):12.92*e}var Mr=p.unpack,Pr=p.type,jr=C,Tr=w,Er=h,Dr=wr;Tr.prototype.oklab=function(){return Dr(this._rgb)},jr.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Tr,[null].concat(e,["oklab"])))},Er.format.oklab=Ir,Er.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Mr(e,"oklab"),"array"===Pr(e)&&3===e.length)return"oklab"}});var Nr=p.unpack,Or=wr,Rr=ca,Lr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=Nr(e,"rgb"),r=a[0],n=a[1],i=a[2],o=Or(r,n,i),s=o[0],l=o[1],c=o[2];return Rr(s,l,c)},$r=Lr,Gr=p.unpack,Br=wa,Fr=Ir,qr=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=(e=Gr(e,"lch"))[0],r=e[1],n=e[2],i=Br(a,r,n),o=i[0],s=i[1],l=i[2],c=Fr(o,s,l);return[c[0],c[1],c[2],e.length>3?e[3]:1]},Ur=qr,Vr=p.unpack,zr=p.type,Kr=C,Hr=w,Yr=h,Xr=$r;Hr.prototype.oklch=function(){return Xr(this._rgb)},Kr.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(Hr,[null].concat(e,["oklch"])))},Yr.format.oklch=Ur,Yr.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Vr(e,"oklch"),"array"===zr(e)&&3===e.length)return"oklch"}});var Wr=w,Jr=p.type;Wr.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Jr(e)?t?(this._rgb[3]=e,this):new Wr([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},w.prototype.clipped=function(){return this._rgb._clipped||!1};var Qr=w,Zr=Ot;Qr.prototype.darken=function(e){void 0===e&&(e=1);var t=this,a=t.lab();return a[0]-=Zr.Kn*e,new Qr(a,"lab").alpha(t.alpha(),!0)},Qr.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},Qr.prototype.darker=Qr.prototype.darken,Qr.prototype.brighter=Qr.prototype.brighten,w.prototype.get=function(e){var t=e.split("."),a=t[0],r=t[1],n=this[a]();if(r){var i=a.indexOf(r)-("ok"===a.substr(0,2)?2:0);if(i>-1)return n[i];throw new Error("unknown channel "+r+" in mode "+a)}return n};var en=w,tn=p.type,an=Math.pow,rn=1e-7,nn=20;en.prototype.luminance=function(e){if(void 0!==e&&"number"===tn(e)){if(0===e)return new en([0,0,0,this._rgb[3]],"rgb");if(1===e)return new en([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),a="rgb",r=nn,n=function(t,i){var o=t.interpolate(i,.5,a),s=o.luminance();return Math.abs(e-s)<rn||!r--?o:s>e?n(t,o):n(o,i)},i=(t>e?n(new en([0,0,0]),this):n(this,new en([255,255,255]))).rgb();return new en(i.concat([this._rgb[3]]))}return on.apply(void 0,this._rgb.slice(0,3))};var on=function(e,t,a){return.2126*(e=sn(e))+.7152*(t=sn(t))+.0722*(a=sn(a))},sn=function(e){return(e/=255)<=.03928?e/12.92:an((e+.055)/1.055,2.4)},ln={},cn=w,un=p.type,dn=ln,fn=function(e,t,a){void 0===a&&(a=.5);for(var r=[],n=arguments.length-3;n-- >0;)r[n]=arguments[n+3];var i=r[0]||"lrgb";if(dn[i]||r.length||(i=Object.keys(dn)[0]),!dn[i])throw new Error("interpolation mode "+i+" is not defined");return"object"!==un(e)&&(e=new cn(e)),"object"!==un(t)&&(t=new cn(t)),dn[i](e,t,a).alpha(e.alpha()+a*(t.alpha()-e.alpha()))},pn=w,hn=fn;pn.prototype.mix=pn.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var a=[],r=arguments.length-2;r-- >0;)a[r]=arguments[r+2];return hn.apply(void 0,[this,e,t].concat(a))};var mn=w;mn.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,a=t[3];return e?(this._rgb=[t[0]*a,t[1]*a,t[2]*a,a],this):new mn([t[0]*a,t[1]*a,t[2]*a,a],"rgb")};var vn=w,gn=Ot;vn.prototype.saturate=function(e){void 0===e&&(e=1);var t=this,a=t.lch();return a[1]+=gn.Kn*e,a[1]<0&&(a[1]=0),new vn(a,"lch").alpha(t.alpha(),!0)},vn.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var bn=w,yn=p.type;bn.prototype.set=function(e,t,a){void 0===a&&(a=!1);var r=e.split("."),n=r[0],i=r[1],o=this[n]();if(i){var s=n.indexOf(i)-("ok"===n.substr(0,2)?2:0);if(s>-1){if("string"==yn(t))switch(t.charAt(0)){case"+":case"-":o[s]+=+t;break;case"*":o[s]*=+t.substr(1);break;case"/":o[s]/=+t.substr(1);break;default:o[s]=+t}else{if("number"!==yn(t))throw new Error("unsupported value for Color.set");o[s]=t}var l=new bn(o,n);return a?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+i+" in mode "+n)}return o};var wn=w,kn=function(e,t,a){var r=e._rgb,n=t._rgb;return new wn(r[0]+a*(n[0]-r[0]),r[1]+a*(n[1]-r[1]),r[2]+a*(n[2]-r[2]),"rgb")};ln.rgb=kn;var Cn=w,_n=Math.sqrt,xn=Math.pow,An=function(e,t,a){var r=e._rgb,n=r[0],i=r[1],o=r[2],s=t._rgb,l=s[0],c=s[1],u=s[2];return new Cn(_n(xn(n,2)*(1-a)+xn(l,2)*a),_n(xn(i,2)*(1-a)+xn(c,2)*a),_n(xn(o,2)*(1-a)+xn(u,2)*a),"rgb")};ln.lrgb=An;var In=w,Sn=function(e,t,a){var r=e.lab(),n=t.lab();return new In(r[0]+a*(n[0]-r[0]),r[1]+a*(n[1]-r[1]),r[2]+a*(n[2]-r[2]),"lab")};ln.lab=Sn;var Mn=w,Pn=function(e,t,a,r){var n,i,o,s,l,c,u,d,f,p,h,m,v;return"hsl"===r?(o=e.hsl(),s=t.hsl()):"hsv"===r?(o=e.hsv(),s=t.hsv()):"hcg"===r?(o=e.hcg(),s=t.hcg()):"hsi"===r?(o=e.hsi(),s=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",o=e.hcl(),s=t.hcl()):"oklch"===r&&(o=e.oklch().reverse(),s=t.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(n=o)[0],u=n[1],f=n[2],c=(i=s)[0],d=i[1],p=i[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?m=Number.NaN:(m=c,1!=f&&0!=f||"hsv"==r||(h=d)):(m=l,1!=p&&0!=p||"hsv"==r||(h=u)):m=l+a*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===h&&(h=u+a*(d-u)),v=f+a*(p-f),new Mn("oklch"===r?[v,h,m]:[m,h,v],r)},jn=Pn,Tn=function(e,t,a){return jn(e,t,a,"lch")};ln.lch=Tn,ln.hcl=Tn;var En=w,Dn=function(e,t,a){var r=e.num(),n=t.num();return new En(r+a*(n-r),"num")};ln.num=Dn;var Nn=Pn,On=function(e,t,a){return Nn(e,t,a,"hcg")};ln.hcg=On;var Rn=Pn,Ln=function(e,t,a){return Rn(e,t,a,"hsi")};ln.hsi=Ln;var $n=Pn,Gn=function(e,t,a){return $n(e,t,a,"hsl")};ln.hsl=Gn;var Bn=Pn,Fn=function(e,t,a){return Bn(e,t,a,"hsv")};ln.hsv=Fn;var qn=w,Un=function(e,t,a){var r=e.oklab(),n=t.oklab();return new qn(r[0]+a*(n[0]-r[0]),r[1]+a*(n[1]-r[1]),r[2]+a*(n[2]-r[2]),"oklab")};ln.oklab=Un;var Vn=Pn,zn=function(e,t,a){return Vn(e,t,a,"oklch")};ln.oklch=zn;var Kn=w,Hn=p.clip_rgb,Yn=Math.pow,Xn=Math.sqrt,Wn=Math.PI,Jn=Math.cos,Qn=Math.sin,Zn=Math.atan2,ei=function(e,t,a){void 0===t&&(t="lrgb"),void 0===a&&(a=null);var r=e.length;a||(a=Array.from(new Array(r)).map((function(){return 1})));var n=r/a.reduce((function(e,t){return e+t}));if(a.forEach((function(e,t){a[t]*=n})),e=e.map((function(e){return new Kn(e)})),"lrgb"===t)return ti(e,a);for(var i=e.shift(),o=i.get(t),s=[],l=0,c=0,u=0;u<o.length;u++)if(o[u]=(o[u]||0)*a[0],s.push(isNaN(o[u])?0:a[0]),"h"===t.charAt(u)&&!isNaN(o[u])){var d=o[u]/180*Wn;l+=Jn(d)*a[0],c+=Qn(d)*a[0]}var f=i.alpha()*a[0];e.forEach((function(e,r){var n=e.get(t);f+=e.alpha()*a[r+1];for(var i=0;i<o.length;i++)if(!isNaN(n[i]))if(s[i]+=a[r+1],"h"===t.charAt(i)){var u=n[i]/180*Wn;l+=Jn(u)*a[r+1],c+=Qn(u)*a[r+1]}else o[i]+=n[i]*a[r+1]}));for(var p=0;p<o.length;p++)if("h"===t.charAt(p)){for(var h=Zn(c/s[p],l/s[p])/Wn*180;h<0;)h+=360;for(;h>=360;)h-=360;o[p]=h}else o[p]=o[p]/s[p];return f/=r,new Kn(o,t).alpha(f>.99999?1:f,!0)},ti=function(e,t){for(var a=e.length,r=[0,0,0,0],n=0;n<e.length;n++){var i=e[n],o=t[n]/a,s=i._rgb;r[0]+=Yn(s[0],2)*o,r[1]+=Yn(s[1],2)*o,r[2]+=Yn(s[2],2)*o,r[3]+=s[3]*o}return r[0]=Xn(r[0]),r[1]=Xn(r[1]),r[2]=Xn(r[2]),r[3]>.9999999&&(r[3]=1),new Kn(Hn(r))},ai=C,ri=p.type,ni=Math.pow,ii=function(e){var t="rgb",a=ai("#ccc"),r=0,n=[0,1],i=[],o=[0,0],s=!1,l=[],c=!1,u=0,d=1,f=!1,p={},h=!0,m=1,v=function(e){if((e=e||["#fff","#000"])&&"string"===ri(e)&&ai.brewer&&ai.brewer[e.toLowerCase()]&&(e=ai.brewer[e.toLowerCase()]),"array"===ri(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=ai(e[t]);i.length=0;for(var a=0;a<e.length;a++)i.push(a/(e.length-1))}return k(),l=e},g=function(e){if(null!=s){for(var t=s.length-1,a=0;a<t&&e>=s[a];)a++;return a-1}return 0},b=function(e){return e},y=function(e){return e},w=function(e,r){var n,c;if(null==r&&(r=!1),isNaN(e)||null===e)return a;c=r?e:s&&s.length>2?g(e)/(s.length-2):d!==u?(e-u)/(d-u):1,c=y(c),r||(c=b(c)),1!==m&&(c=ni(c,m)),c=o[0]+c*(1-o[0]-o[1]),c=Math.min(1,Math.max(0,c));var f=Math.floor(1e4*c);if(h&&p[f])n=p[f];else{if("array"===ri(l))for(var v=0;v<i.length;v++){var w=i[v];if(c<=w){n=l[v];break}if(c>=w&&v===i.length-1){n=l[v];break}if(c>w&&c<i[v+1]){c=(c-w)/(i[v+1]-w),n=ai.interpolate(l[v],l[v+1],c,t);break}}else"function"===ri(l)&&(n=l(c));h&&(p[f]=n)}return n},k=function(){return p={}};v(e);var C=function(e){var t=ai(w(e));return c&&t[c]?t[c]():t};return C.classes=function(e){if(null!=e){if("array"===ri(e))s=e,n=[e[0],e[e.length-1]];else{var t=ai.analyze(n);s=0===e?[t.min,t.max]:ai.limits(t,"e",e)}return C}return s},C.domain=function(e){if(!arguments.length)return n;u=e[0],d=e[e.length-1],i=[];var t=l.length;if(e.length===t&&u!==d)for(var a=0,r=Array.from(e);a<r.length;a+=1){var o=r[a];i.push((o-u)/(d-u))}else{for(var s=0;s<t;s++)i.push(s/(t-1));if(e.length>2){var c=e.map((function(t,a){return a/(e.length-1)})),f=e.map((function(e){return(e-u)/(d-u)}));f.every((function(e,t){return c[t]===e}))||(y=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=f[t+1];)t++;var a=(e-f[t])/(f[t+1]-f[t]);return c[t]+a*(c[t+1]-c[t])})}}return n=[u,d],C},C.mode=function(e){return arguments.length?(t=e,k(),C):t},C.range=function(e,t){return v(e),C},C.out=function(e){return c=e,C},C.spread=function(e){return arguments.length?(r=e,C):r},C.correctLightness=function(e){return null==e&&(e=!0),f=e,k(),b=f?function(e){for(var t=w(0,!0).lab()[0],a=w(1,!0).lab()[0],r=t>a,n=w(e,!0).lab()[0],i=t+(a-t)*e,o=n-i,s=0,l=1,c=20;Math.abs(o)>.01&&c-- >0;)r&&(o*=-1),o<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),n=w(e,!0).lab()[0],o=n-i;return e}:function(e){return e},C},C.padding=function(e){return null!=e?("number"===ri(e)&&(e=[e,e]),o=e,C):o},C.colors=function(t,a){arguments.length<2&&(a="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===t)r=[C(.5)];else if(t>1){var i=n[0],o=n[1]-i;r=oi(0,t).map((function(e){return C(i+e/(t-1)*o)}))}else{e=[];var c=[];if(s&&s.length>2)for(var u=1,d=s.length,f=1<=d;f?u<d:u>d;f?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=n;r=c.map((function(e){return C(e)}))}return ai[a]&&(r=r.map((function(e){return e[a]()}))),r},C.cache=function(e){return null!=e?(h=e,C):h},C.gamma=function(e){return null!=e?(m=e,C):m},C.nodata=function(e){return null!=e?(a=ai(e),C):a},C};function oi(e,t,a){for(var r=[],n=e<t,i=t,o=e;n?o<i:o>i;n?o++:o--)r.push(o);return r}var si=w,li=ii,ci=function(e){for(var t=[1,1],a=1;a<e;a++){for(var r=[1],n=1;n<=t.length;n++)r[n]=(t[n]||0)+t[n-1];t=r}return t},ui=function(e){var t,a,r,n,i,o,s;if(2===(e=e.map((function(e){return new si(e)}))).length)t=e.map((function(e){return e.lab()})),i=t[0],o=t[1],n=function(e){var t=[0,1,2].map((function(t){return i[t]+e*(o[t]-i[t])}));return new si(t,"lab")};else if(3===e.length)a=e.map((function(e){return e.lab()})),i=a[0],o=a[1],s=a[2],n=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*i[t]+2*(1-e)*e*o[t]+e*e*s[t]}));return new si(t,"lab")};else if(4===e.length){var l;r=e.map((function(e){return e.lab()})),i=r[0],o=r[1],s=r[2],l=r[3],n=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*i[t]+3*(1-e)*(1-e)*e*o[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]}));return new si(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,d;c=e.map((function(e){return e.lab()})),d=e.length-1,u=ci(d),n=function(e){var t=1-e,a=[0,1,2].map((function(a){return c.reduce((function(r,n,i){return r+u[i]*Math.pow(t,d-i)*Math.pow(e,i)*n[a]}),0)}));return new si(a,"lab")}}return n},di=function(e){var t=ui(e);return t.scale=function(){return li(t)},t},fi=C,pi=function(e,t,a){if(!pi[a])throw new Error("unknown blend mode "+a);return pi[a](e,t)},hi=function(e){return function(t,a){var r=fi(a).rgb(),n=fi(t).rgb();return fi.rgb(e(r,n))}},mi=function(e){return function(t,a){var r=[];return r[0]=e(t[0],a[0]),r[1]=e(t[1],a[1]),r[2]=e(t[2],a[2]),r}},vi=function(e){return e},gi=function(e,t){return e*t/255},bi=function(e,t){return e>t?t:e},yi=function(e,t){return e>t?e:t},wi=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ki=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},Ci=function(e,t){return 255*(1-(1-t/255)/(e/255))},_i=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e};pi.normal=hi(mi(vi)),pi.multiply=hi(mi(gi)),pi.screen=hi(mi(wi)),pi.overlay=hi(mi(ki)),pi.darken=hi(mi(bi)),pi.lighten=hi(mi(yi)),pi.dodge=hi(mi(_i)),pi.burn=hi(mi(Ci));for(var xi=pi,Ai=p.type,Ii=p.clip_rgb,Si=p.TWOPI,Mi=Math.pow,Pi=Math.sin,ji=Math.cos,Ti=C,Ei=function(e,t,a,r,n){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===a&&(a=1),void 0===r&&(r=1),void 0===n&&(n=[0,1]);var i,o=0;"array"===Ai(n)?i=n[1]-n[0]:(i=0,n=[n,n]);var s=function(s){var l=Si*((e+120)/360+t*s),c=Mi(n[0]+i*s,r),u=(0!==o?a[0]+s*o:a)*c*(1-c)/2,d=ji(l),f=Pi(l);return Ti(Ii([255*(c+u*(-.14861*d+1.78277*f)),255*(c+u*(-.29227*d-.90649*f)),255*(c+u*(1.97294*d)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?a:("array"===Ai(a=e)?0==(o=a[1]-a[0])&&(a=a[1]):o=0,s)},s.lightness=function(e){return null==e?n:("array"===Ai(e)?(n=e,i=e[1]-e[0]):(n=[e,e],i=0),s)},s.scale=function(){return Ti.scale(s)},s.hue(a),s},Di=w,Ni="0123456789abcdef",Oi=Math.floor,Ri=Math.random,Li=function(){for(var e="#",t=0;t<6;t++)e+=Ni.charAt(Oi(16*Ri()));return new Di(e,"hex")},$i=s,Gi=Math.log,Bi=Math.pow,Fi=Math.floor,qi=Math.abs,Ui=function(e,t){void 0===t&&(t=null);var a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===$i(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===$i(e)&&(e=e[t]),null==e||isNaN(e)||(a.values.push(e),a.sum+=e,e<a.min&&(a.min=e),e>a.max&&(a.max=e),a.count+=1)})),a.domain=[a.min,a.max],a.limits=function(e,t){return Vi(a,e,t)},a},Vi=function(e,t,a){void 0===t&&(t="equal"),void 0===a&&(a=7),"array"==$i(e)&&(e=Ui(e));var r=e.min,n=e.max,i=e.values.sort((function(e,t){return e-t}));if(1===a)return[r,n];var o=[];if("c"===t.substr(0,1)&&(o.push(r),o.push(n)),"e"===t.substr(0,1)){o.push(r);for(var s=1;s<a;s++)o.push(r+s/a*(n-r));o.push(n)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Gi(r),c=Math.LOG10E*Gi(n);o.push(r);for(var u=1;u<a;u++)o.push(Bi(10,l+u/a*(c-l)));o.push(n)}else if("q"===t.substr(0,1)){o.push(r);for(var d=1;d<a;d++){var f=(i.length-1)*d/a,p=Fi(f);if(p===f)o.push(i[p]);else{var h=f-p;o.push(i[p]*(1-h)+i[p+1]*h)}}o.push(n)}else if("k"===t.substr(0,1)){var m,v=i.length,g=new Array(v),b=new Array(a),y=!0,w=0,k=null;(k=[]).push(r);for(var C=1;C<a;C++)k.push(r+C/a*(n-r));for(k.push(n);y;){for(var _=0;_<a;_++)b[_]=0;for(var x=0;x<v;x++)for(var A=i[x],I=Number.MAX_VALUE,S=void 0,M=0;M<a;M++){var P=qi(k[M]-A);P<I&&(I=P,S=M),b[S]++,g[x]=S}for(var j=new Array(a),T=0;T<a;T++)j[T]=null;for(var E=0;E<v;E++)null===j[m=g[E]]?j[m]=i[E]:j[m]+=i[E];for(var D=0;D<a;D++)j[D]*=1/b[D];y=!1;for(var N=0;N<a;N++)if(j[N]!==k[N]){y=!0;break}k=j,++w>200&&(y=!1)}for(var O={},R=0;R<a;R++)O[R]=[];for(var L=0;L<v;L++)O[m=g[L]].push(i[L]);for(var $=[],G=0;G<a;G++)$.push(O[G][0]),$.push(O[G][O[G].length-1]);$=$.sort((function(e,t){return e-t})),o.push($[0]);for(var B=1;B<$.length;B+=2){var F=$[B];isNaN(F)||-1!==o.indexOf(F)||o.push(F)}}return o},zi={analyze:Ui,limits:Vi},Ki=w,Hi=function(e,t){e=new Ki(e),t=new Ki(t);var a=e.luminance(),r=t.luminance();return a>r?(a+.05)/(r+.05):(r+.05)/(a+.05)},Yi=w,Xi=Math.sqrt,Wi=Math.pow,Ji=Math.min,Qi=Math.max,Zi=Math.atan2,eo=Math.abs,to=Math.cos,ao=Math.sin,ro=Math.exp,no=Math.PI,io=function(e,t,a,r,n){void 0===a&&(a=1),void 0===r&&(r=1),void 0===n&&(n=1);var i=function(e){return 360*e/(2*no)},o=function(e){return 2*no*e/360};e=new Yi(e),t=new Yi(t);var s=Array.from(e.lab()),l=s[0],c=s[1],u=s[2],d=Array.from(t.lab()),f=d[0],p=d[1],h=d[2],m=(l+f)/2,v=(Xi(Wi(c,2)+Wi(u,2))+Xi(Wi(p,2)+Wi(h,2)))/2,g=.5*(1-Xi(Wi(v,7)/(Wi(v,7)+Wi(25,7)))),b=c*(1+g),y=p*(1+g),w=Xi(Wi(b,2)+Wi(u,2)),k=Xi(Wi(y,2)+Wi(h,2)),C=(w+k)/2,_=i(Zi(u,b)),x=i(Zi(h,y)),A=_>=0?_:_+360,I=x>=0?x:x+360,S=eo(A-I)>180?(A+I+360)/2:(A+I)/2,M=1-.17*to(o(S-30))+.24*to(o(2*S))+.32*to(o(3*S+6))-.2*to(o(4*S-63)),P=I-A;P=eo(P)<=180?P:I<=A?P+360:P-360,P=2*Xi(w*k)*ao(o(P)/2);var j=f-l,T=k-w,E=1+.015*Wi(m-50,2)/Xi(20+Wi(m-50,2)),D=1+.045*C,N=1+.015*C*M,O=30*ro(-Wi((S-275)/25,2)),R=-2*Xi(Wi(C,7)/(Wi(C,7)+Wi(25,7)))*ao(2*o(O)),L=Xi(Wi(j/(a*E),2)+Wi(T/(r*D),2)+Wi(P/(n*N),2)+R*(T/(r*D))*(P/(n*N)));return Qi(0,Ji(100,L))},oo=w,so=function(e,t,a){void 0===a&&(a="lab"),e=new oo(e),t=new oo(t);var r=e.get(a),n=t.get(a),i=0;for(var o in r){var s=(r[o]||0)-(n[o]||0);i+=s*s}return Math.sqrt(i)},lo=w,co=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(lo,[null].concat(e))),!0}catch(a){return!1}},uo=C,fo=ii,po={cool:function(){return fo([uo.hsl(180,1,.9),uo.hsl(250,.7,.4)])},hot:function(){return fo(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ho={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},mo=0,vo=Object.keys(ho);mo<vo.length;mo+=1){var go=vo[mo];ho[go.toLowerCase()]=ho[go]}var bo=ho,yo=C;return yo.average=ei,yo.bezier=di,yo.blend=xi,yo.cubehelix=Ei,yo.mix=yo.interpolate=fn,yo.random=Li,yo.scale=ii,yo.analyze=zi.analyze,yo.contrast=Hi,yo.deltaE=io,yo.distance=so,yo.limits=zi.limits,yo.valid=co,yo.scales=po,yo.colors=Ra,yo.brewer=bo,yo}()),ce.exports)),de=["deg","turn","bottom","left","top","right","circle","ellipse","farthest","closest"],fe=["ease","ease-in","ease-out","ease-in-out","cubic-bezier","steps"],pe=["transparent","indianred","lightcoral","salmon","darksalmon","lightsalmon","crimson","red","firebrick","darkred","pink","lightpink","hotpink","deeppink","mediumvioletred","palevioletred","coral","tomato","orangered","darkorange","orange","gold","yellow","lightyellow","lemonchiffon","lightgoldenrodyellow","papayawhip","moccasin","peachpuff","palegoldenrod","khaki","darkkhaki","lavender","thistle","plum","violet","orchid","fuchsia","magenta","mediumorchid","mediumpurple","blueviolet","darkviolet","darkorchid","darkmagenta","purple","rebeccapurple","indigo","mediumslateblue","slateblue","darkslateblue","greenyellow","chartreuse","lawngreen","lime","limegreen","palegreen","lightgreen","mediumspringgreen","springgreen","mediumseagreen","seagreen","forestgreen","green","darkgreen","yellowgreen","olivedrab","olive","darkolivegreen","mediumaquamarine","darkseagreen","lightseagreen","darkcyan","teal","aqua","cyan","lightcyan","paleturquoise","aquamarine","turquoise","mediumturquoise","darkturquoise","cadetblue","steelblue","lightsteelblue","powderblue","lightblue","skyblue","lightskyblue","deepskyblue","dodgerblue","cornflowerblue","royalblue","blue","mediumblue","darkblue","navy","midnightblue","cornsilk","blanchedalmond","bisque","navajowhite","wheat","burlywood","tan","rosybrown","sandybrown","goldenrod","darkgoldenrod","peru","chocolate","saddlebrown","sienna","brown","maroon","white","snow","honeydew","mintcream","azure","aliceblue","ghostwhite","whitesmoke","seashell","beige","oldlace","floralwhite","ivory","antiquewhite","linen","lavenderblush","mistyrose","gainsboro","lightgray","lightgrey","silver","darkgray","darkgrey","gray","grey","dimgray","dimgrey","lightslategray","lightslategrey","slategray","slategrey","darkslategray","darkslategrey","black"],he=["rgb","hsl","hsv"],me=e=>(e=>-1!==e.indexOf("("))(e)?e.substring(0,e.indexOf("(")):e,ve=e=>{const t=e.split(" "),a=t[t.length-1];return[e.replace(" "+a,""),parseInt(a)/100]},ge=e=>(e.map((e=>("div"===e.type&&(e.value=";"),e))),e),be=e=>fe.includes(me(e)),ye=(e,t)=>{e[0]=e[0]||0,e[1]=e[1]||1;let a=t.map((e=>({...e}))),r=e[1]-e[0];return a.forEach((t=>t.x=t.x*r+e[0])),a},we=e=>`Couldn't parse:\n${e}\nCheck the syntax to see if it's correct/supported.`,ke=e=>e.map(((t,a)=>"transparent"===t?ue(e[Math.abs(a-1)]).alpha(0).css("hsl"):t)),Ce=(e,t)=>{var a;return e=`${me(e)}(${(a=e,a.match(/\((.*)\)/).pop()).split(",").map((e=>-1===e.indexOf("%")?+Number(e).toFixed(t):e.trim())).join(", ")})`},_e=e=>de.some((t=>e.includes(t))),xe=e=>{const t=e.toLowerCase();return!!he.some((e=>t.includes(e)))||(!!t.includes(t.match(/^#([0-9a-f]{3}){1,2}$/i))||(!!pe.some((e=>t.includes(e)))||void 0))},Ae=(e={})=>(e.stops||(e.stops=13),e.outputType||(e.outputType="css"),function(t){if(t.includes("-gradient")){const a=se(t);return a.walk((a=>{let r,n=[];"linear-gradient"!==a.value&&"radial-gradient"!==a.value||(r=se.stringify(ge(a.nodes)).split(";").map((e=>e.trim())),r.forEach(((a,i)=>{if(be(a))try{let t={},o=[];const s=[r[i-1],r[i+1]];s.forEach(((e,a)=>{s[a].endsWith("%")&&([s[a],t[a]]=ve(s[a]))}));const l=X(a,e.stops-1);(t[0]||t[1])&&(o=ye(t,l));const c=((e,t,a=5,r="lrgb",n)=>{const i=[];return e=ke(e),t.forEach((t=>{const o=t.y,s=100*t.x;let l=ue.mix(e[0],e[1],o,r).css("hsl");l=Ce(l,a),"css"===n?0!==Number(t.x)&&1!==Number(t.x)?i.push(`${l} ${+s.toFixed(2)}%`):i.push(l):"canvas"===n&&(0!==Number(t.x)&&1!==Number(t.x)?i.push(`.addColorStop(${(s/100).toFixed(2)}, '${l}')`):Number(t.x))})),i})(s,o.length?o:l,e.alphaDecimals,e.colorMode,e.outputType);n=n.concat(c)}catch(o){console.log(we(t))}})),a.type="word","css"===e.outputType?r.length%2==0?a.value=`${a.value}(${r[0]}, ${n.join(", ")})`:a.value=`${a.value}(${n.join(", ")})`:"canvas"===e.outputType&&(a.value=n.join("\n")))})),a.toString()}}),Ie={"gentle-ease-out":"cubic-bezier(0.25, 0.25, 0.58, 1)",linear:"cubic-bezier(0.25, 0.25, 0.75, 0.75)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"};const Se=n({name:"GradientEaser",outputOptions:[{label:"CSS",value:"css"},{label:"Canvas",value:"canvas"}],data:()=>({querySelector:".app",gradientPostCss:"linear-gradient(to bottom, rgba(0,0,0,1) 30%, cubic-bezier(0.7, 0, 0.7, 1), transparent 80%)",gradientParams:[],gradientType:"",resultCopied:!1,indicesToDelete:[],menuOpenIndex:null,outputType:"css",alphaDecimals:5}),computed:{cssEasedGradient(){return this.gradientPostCss?Ae({alphaDecimals:this.alphaDecimals})(this.gradientPostCss):""},canvasEasedGradient(){return this.gradientPostCss?Ae({alphaDecimals:this.alphaDecimals,outputType:"canvas"})(this.gradientPostCss):""},outputGradient(){return"css"===this.outputType?this.cssEasedGradient:this.canvasEasedGradient},nodeList(){if(this.isValidQuerySelector(this.querySelector))return document.querySelectorAll(this.querySelector)},css(){return`${this.querySelector} { background: ${this.cssEasedGradient} !important; }`},nodeCount(){return this.querySelector?this.isValidQuerySelector(this.querySelector)?this.nodeList?this.nodeList.length:void 0:"âŒ":""},paramsIncludeDirection(){return"direction"===this.gradientParams[0].type}},watch:{gradientPostCss:{handler(e){if(this.skipSettingGradientPostCss)return void(this.skipSettingGradientPostCss=!1);let t=[];se(e).walk((e=>{"linear-gradient"!==e.value&&"radial-gradient"!==e.value||(this.gradientType=e.value,t=se.stringify(ge(e.nodes)).split(";").map((e=>{const t=e.trim();return{value:t,type:this.getParamType(t)}})))})),this.skipSettingGradientParams=!0,this.gradientParams=t},immediate:!0},gradientParams:{handler(e){this.skipSettingGradientParams?this.skipSettingGradientParams=!1:(this.skipSettingGradientPostCss=!0,this.gradientPostCss=`${this.gradientType}( ${e.map((e=>e.value)).join(", ")} );`)},deep:!0},nodeList(e){e&&e.length&&this.applyGradient()},cssEasedGradient(e){e&&this.applyGradient()},css(){this.storeGradientParams()},outputType(){this.storeGradientParams()}},created(){this.fetchGradientParams()},methods:{isValidQuerySelector(e){try{t=e,document.createDocumentFragment().querySelector(t)}catch(a){return!1}var t;return!0},applyGradient(){if(!this.cssEasedGradient)return;const e="gradient-easer-style",t=document.head,a=document.createElement("style"),r=document.getElementById(e);r&&t.removeChild(r),a.setAttribute("type","text/css"),a.setAttribute("id",e),t.appendChild(a),a.appendChild(document.createTextNode(this.css))},log(e){console.log(e)},getDefaultMenuItems(){return{deleteBefore:{title:"Delete â¤´",action:(e,t)=>this.gradientParams.splice(t-1,2),disable:(e,t)=>this.paramsIncludeDirection?t<=1:0===t,mouseenter:(e,t)=>{this.indicesToDelete=[t,t-1]},mouseleave:this.resetIndices},delete:{title:"Delete",action:(e,t)=>this.gradientParams.splice(t,1),disable:e=>"direction"!==e.type,mouseenter:(e,t)=>{this.indicesToDelete=[t,t-1]},mouseleave:this.resetIndices},deleteAfter:{title:"Delete â¤µ",action:(e,t)=>this.gradientParams.splice(t,2),disable:(e,t)=>"direction"===e.type||t>=this.gradientParams.length-1,mouseenter:(e,t)=>{this.indicesToDelete=[t,t+1]},mouseleave:this.resetIndices}}},getBezierMenuItems(){let e={};for(let t in Ie)e[t]={title:t,action:(e,a)=>{this.gradientParams[a].value=Ie[t]}};return e},getMenuEntries(e){return{color:{...this.getDefaultMenuItems()},bezier:{...this.getBezierMenuItems(),...this.getDefaultMenuItems()},direction:{...this.getDefaultMenuItems()}}[e]},copy(){let e=this.$refs.textarea;e.select(),document.execCommand("copy"),e.blur(),this.resultCopied=!0,setTimeout((()=>{this.resultCopied=!1}),1e3)},getParamType:e=>be(e)?"bezier":_e(e)?"direction":xe?"color":"unknown",clickDropdownAction(e,t,a){e(t,a),this.menuOpenIndex=null,this.indicesToDelete=[]},toggleMenu(e){this.menuOpenIndex=e===this.menuOpenIndex?null:e},resetIndices(){this.indicesToDelete=[]},addParams(){this.gradientParams.push({value:"cubic-bezier()",type:"bezier"}),this.gradientParams.push({value:"",type:"color"})},fetchGradientParams(){let e=localStorage.getObject("gradient-parameters");e&&Object.keys(e).forEach((t=>{this[t]=e[t]}))},storeGradientParams(){localStorage.setObject("gradient-parameters",{querySelector:this.querySelector,gradientPostCss:this.gradientPostCss,gradientParams:this.gradientParams,gradientType:this.gradientType,outputType:this.outputType,alphaDecimals:this.alphaDecimals})}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gradient-easer"},[t("section",[t("div",{staticClass:"input-wrapper query-selector-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.querySelector,expression:"querySelector"}],staticClass:"query-selector",attrs:{placeholder:"query selector"},domProps:{value:e.querySelector},on:{input:function(t){t.target.composing||(e.querySelector=t.target.value)}}}),t("div",{staticClass:"input-end node-count",on:{click:function(t){return e.log(e.nodeList)}}},[e._v(e._s(e.nodeCount))])]),t("div",{staticClass:"input-wrapper gradient-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.gradientPostCss,expression:"gradientPostCss"}],ref:"postcss",staticClass:"gradient-input",attrs:{placeholder:"eased gradient"},domProps:{value:e.gradientPostCss},on:{input:function(t){t.target.composing||(e.gradientPostCss=t.target.value)}}}),t("div",{staticClass:"input-end gradient-valid",on:{click:function(t){return e.log(e.cssEasedGradient)}}},[e._v(e._s(e.gradientPostCss?e.cssEasedGradient?"âœ”":"âŒ":""))])]),t("div",{staticClass:"settings"},[t("label",[e._v("AlphaDecimals")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.alphaDecimals,expression:"alphaDecimals"}],attrs:{type:"number",min:"0",max:"10"},domProps:{value:e.alphaDecimals},on:{input:function(t){t.target.composing||(e.alphaDecimals=t.target.value)}}})])]),t("section",[e._l(e.gradientParams,(function(a,r){return t("div",{key:r,staticClass:"input-wrapper param-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"param.value"}],staticClass:"param",class:{"to-delete":-1!==e.indicesToDelete.indexOf(r)},attrs:{placeholder:a.type},domProps:{value:a.value},on:{input:function(t){t.target.composing||e.$set(a,"value",t.target.value)}}}),t("div",{staticClass:"input-end"},[t("i",{staticClass:"icon icon-ellipsis",on:{click:function(t){return e.toggleMenu(r)}}}),r===e.menuOpenIndex?t("div",{staticClass:"menu dropdown"},[t("ul",{staticClass:"dropdown-list"},e._l(e.getMenuEntries(a.type),(function(r,n){return r.disable&&r.disable(a,n)?e._e():t("li",{key:n,on:{click:function(t){return e.clickDropdownAction(r.action,a,n)},mouseenter:function(e){r.mouseenter&&r.mouseenter(a,n)},mouseleave:function(e){r.mouseenter&&r.mouseleave(a,n)}}},[e._v(" "+e._s(r.title)+" ")])})),0)]):e._e()])])})),t("div",{staticClass:"add-params",on:{click:e.addParams}},[e._v(" + Add")])],2),t("section",{staticClass:"result"},[t("div",{staticClass:"result-header"},[t("label",{staticClass:"result-label",on:{click:e.copy}},[t("span",[e._v("Result")]),t("div",{staticClass:"icon icon-copy"})]),t("div",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.outputType,expression:"outputType"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.outputType=t.target.multiple?a:a[0]}}},e._l(e.$options.outputOptions,(function(a,r){return t("option",{key:r,domProps:{value:a.value}},[e._v(e._s(a.label)+" ")])})),0)])]),t("span",{staticClass:"result-text",class:{pulse:e.resultCopied},domProps:{innerHTML:e._s(e.outputGradient)}}),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.outputGradient,expression:"outputGradient"}],ref:"textarea",staticClass:"textarea",attrs:{readonly:""},domProps:{value:e.outputGradient},on:{input:function(t){t.target.composing||(e.outputGradient=t.target.value)}}})])])}),[],!1,null,"6aca6fb7").exports;const Me=n({name:"ModalDevPanel",components:{DefinitionList:n({name:"DefinitionList",props:{experimentId:{type:String,default:null},variantId:{type:String,default:null},definitions:{type:Object,default:()=>({})}},methods:{handleStepClick(e,{stepId:t,subStepIndex:a}={}){this.singleClicked?x.toggleStepPinned(e,{stepId:t,subStepIndex:a,experimentId:this.experimentId,variantId:this.variantId}):(this.singleClicked=!0,x.setStepActive(e,a),setTimeout((()=>this.singleClicked=!1),500))},shouldDisplayPinIcon:(e,t)=>e.pinned&&void 0===e.pinnedSubStepIndex&&void 0===t||void 0!==e.pinnedSubStepIndex&&e.pinnedSubStepIndex===t,shouldDisplayActive:(e,t)=>void 0!==e.activeSubStepIndex&&e.activeSubStepIndex===t}},(function(){var e=this,t=e._self._c;return t("ul",{staticClass:"defs"},e._l(e.definitions,(function(a,r){return t("li",{key:r,staticClass:"def",attrs:{title:a.error?"Target element missing from DOM":""}},[t("div",{staticClass:"def-name-wrapper",class:{active:a.active&&!a.subSteps},on:{click:function(t){return e.handleStepClick(a,{stepId:r})}}},[t("div",[e.shouldDisplayPinIcon(a)?t("span",[t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:h}})],1):e._e(),t("span",{staticClass:"def-name"},[e._v(e._s(a.name||a.headerText))])]),a.error?t("div",[t("inline-svg",{staticClass:"icon icon-alert",attrs:{src:s}})],1):e._e()]),t("ul",{staticClass:"sub-defs"},e._l(a.subSteps,(function(n,i){return t("li",{key:i,staticClass:"sub-def",class:{active:e.shouldDisplayActive(a,i)},on:{click:function(t){return e.handleStepClick(a,{stepId:r,subStepIndex:i})}}},[e.shouldDisplayPinIcon(a,i)?t("span",[t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:h}})],1):e._e(),t("span",{staticClass:"sub-def-name"},[e._v(e._s(n.name))])])})),0)])})),0)}),[],!1,null,"3990e747").exports},experimentIds:k,definitionIds:C,data:()=>({activeDefinitionKey:localStorage.getItem("devPanel:modals:activeDefinitionKey")||"all",activeExperimentKey:localStorage.getItem("devPanel:modals:activeExperimentKey")||"all"}),computed:{filteredDefinitions(){return this.filterDefs(x.definitions,C,this.activeDefinitionKey)},filteredExperiments(){return this.filterDefs(x.experimentMap,k,this.activeExperimentKey)}},watch:{activeDefinitionKey(e){localStorage.setItem("devPanel:modals:activeDefinitionKey",e)},activeExperimentKey(e){localStorage.setItem("devPanel:modals:activeExperimentKey",e)}},methods:{filterDefs(e,t,a){if("all"===a)return e;{let r={};return Object.keys(e).forEach((n=>{t[a].indexOf(n)>=0&&(r[n]=e[n])})),r}},async resetOnboardingProgress(){const e=_.data;e.loaded||await _.refresh({mode:l.Server}),Object.values(e.items).forEach((e=>{"legacy"===e.status?this.$xhr.patch("onboarding/"+e.id,{deleted:!0}):_.delete(e)}))},closePopup(){m.trigger("modal:close")}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-dev"},[t("div",{staticClass:"all-defs"},[t("div",{staticClass:"definitions-wrapper"},[t("div",{staticClass:"row"},[t("div",{staticClass:"type-wrapper"},[t("h4",[e._v("Standard Steps")]),t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.activeDefinitionKey,expression:"activeDefinitionKey"}],staticClass:"types",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.activeDefinitionKey=t.target.multiple?a:a[0]}}},e._l(Object.keys(e.$options.definitionIds),(function(a){return t("option",{key:a,domProps:{value:a}},[e._v(e._s(a))])})),0)])])]),t("definition-list",{attrs:{definitions:e.filteredDefinitions}})],1),Object.keys(e.filteredExperiments).length?t("div",{staticClass:"experiments-wrapper"},[t("div",{staticClass:"row"},[t("div",{staticClass:"type-wrapper"},[t("h4",[e._v("Experiments")]),t("div",{staticClass:"select-wrapper"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.activeExperimentKey,expression:"activeExperimentKey"}],staticClass:"types",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.activeExperimentKey=t.target.multiple?a:a[0]}}},e._l(Object.keys(e.$options.experimentIds),(function(a){return t("option",{key:a,domProps:{value:a}},[e._v(e._s(a))])})),0)])])]),t("ul",{staticClass:"experiments"},e._l(e.filteredExperiments,(function(a,r){return t("li",{key:r,staticClass:"experiment"},[t("strong",{staticClass:"experiment-name"},[e._v(e._s(a.name))]),t("ul",e._l(a.variants,(function(a,n){return t("li",{key:n,staticClass:"variant"},[t("header",[t("div",{staticClass:"variant-id"},[e._v(e._s(n))])]),t("definition-list",{attrs:{definitions:a.steps,"experiment-id":r,"variant-id":n}})],1)})),0)])})),0)]):e._e()]),t("div",{staticClass:"button-row"},[t("button",{staticClass:"button",on:{click:e.resetOnboardingProgress}},[e._v("Reset Progress")]),t("button",{staticClass:"button",on:{click:e.closePopup}},[e._v("Close Modal")])])])}),[],!1,null,"b73b5e5f").exports;const Pe=n({name:"DevTools",devTools:[{category:"Triggers",methods:[{value:"logEnvironment",shortcut:"âŒ˜â‡§L"},{value:"triggerNewDay",label:"New Day",shortcut:"âŒƒâ‡§D"},"resetSafariNotification","triggerFlashMessage","triggerFlashError","triggerConfettiMessage"]},{category:"Toggles",methods:[{value:"toggleLoggingMEvents",label:"mï¸ Event Logging",shortcut:"8"},{value:"toggleClockFormat",label:"Clock Format",shortcut:"â‡§Z"},{value:"toggleFeatureDebug",argument:"instrumentation",label:"Instrumentation Event Logging",shortcut:"]"},"toggleForceSafariVersionCheck",{value:"toggleLocalSale",label:"Local Test Sale (Refresh)"}]},{category:"Feature test data",methods:[{value:"tabStashSeedOtherBrowserTestData",label:"Tab stash: Create session from other browser"},{value:"focusModeSetCapacityLimitTally",label:"Focus Mode: Set capacity limit tally to 59 minutes"}]}],methods:{callMethod(e){let t;"object"==typeof e&&(t=e.argument||"",e=e.value),m.devTools[e](t)},camelCaseToReadable:e=>m.utils.camelCaseToReadable(e)}},(function(){var e=this,t=e._self._c;return t("section",e._l(e.$options.devTools,(function(a){return t("div",{key:a.category},[t("h4",[e._v(e._s(a.category))]),e._l(a.methods,(function(a,r){return t("div",{key:r,staticClass:"button button-show button-dev-tool",on:{click:function(t){return e.callMethod(a)}}},[t("span",[e._v(" "+e._s("object"==typeof a?a.label?a.label:e.camelCaseToReadable(a.value):e.camelCaseToReadable(a))+" ")]),a.shortcut?t("span",{staticClass:"shortcut"},[e._v(" "+e._s(a.shortcut)+" ")]):e._e()])}))],2)})),0)}),[],!1,null,"4534ec4e").exports;const je=n({name:"Background",components:{Slider:A},data:()=>({activeBackground:{id:null,title:null,forDate:null,widgetColor:null,cached:null,isCustom:null,filename:null},adjustments:{brightness:1,contrast:1,saturation:1}}),computed:{adminUrl(){return`${m.globals.urlRootAdmin}backgrounds/${this.activeBackground.id}/preview?filter=active`}},watch:{adjustments:{handler:function(){let e="background-adjustment",t=document.getElementById(e);t&&t.remove();const a=`.background-item { filter: brightness(${this.adjustments.brightness}) contrast(${this.adjustments.contrast}) saturate(${this.adjustments.saturation}); }`,r=document.createElement("style");r.type="text/css",r.appendChild(document.createTextNode(a)),r.id=e,document.head.appendChild(r)},deep:!0}},created(){m.models.activeBackground.on("background:successfullyLoaded",this.setActiveBackground),this.setActiveBackground()},destroyed(){m.models.activeBackground.off("background:successfullyLoaded",this.setActiveBackground)},methods:{setActiveBackground(){const e=m.models.activeBackground.backgroundItem;e&&(this.activeBackground={id:e.get("_id")||e.get("id"),title:e.get("title"),forDate:e.get("forDate"),widgetColor:e.get("widgetColor"),cached:e.get("cached"),isCustom:!!e.get("isCustom"),filename:e.get("filename")})},capitalizeFirstLetter:m.utils.capitalizeFirstLetter}},(function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"details"},[t("h3",[e._v("Details")]),e.activeBackground.title?t("p",[t("strong",[e._v("Name:")]),e._v(" "+e._s(e.activeBackground.title))]):e._e(),t("p",[t("strong",[e._v("ID:")]),e._v(" "+e._s(e.activeBackground.id))]),t("p",[t("strong",[e._v("For Date:")]),e._v(" "+e._s(e.activeBackground.forDate))]),t("p",[t("strong",[e._v("Cached:")]),e._v(" "+e._s(e.activeBackground.cached))]),t("p",[t("strong",[e._v("Custom:")]),e._v(" "+e._s(e.activeBackground.isCustom))])]),e.activeBackground.widgetColor?t("div",[t("h3",[e._v("Widget Color")]),t("p",[t("strong",[e._v("Apps:")]),e._v(" "+e._s(e.activeBackground.widgetColor.hsla))]),t("p",[t("strong",[e._v("Text:")]),e._v(" "+e._s(e.activeBackground.widgetColor.bodyTextColor))])]):e._e(),t("a",{attrs:{href:e.adminUrl}},[e.activeBackground.isCustom?e._e():t("div",[e._v(" Admin Link ")])]),t("a",{attrs:{href:e.activeBackground.filename}},[t("div",[e._v(" Photo Link ")])]),t("div",[t("h3",[e._v("Adjustment")]),e._l(e.adjustments,(function(a,r){return t("div",{key:r,staticClass:"slider"},[t("span",[e._v(e._s(e.capitalizeFirstLetter(r))+": "+e._s(a))]),t("slider",{attrs:{min:0,max:2,interval:.01},model:{value:e.adjustments[r],callback:function(t){e.$set(e.adjustments,r,t)},expression:"adjustments[name]"}})],1)}))],2)])}),[],!1,null,"0be001d6").exports,Te=new(c.extend({unreactive:()=>({type:"accounts",mode:l.Cache}),mixins:[j]})),Ee=c.extend({mixins:[M],data:()=>({id:"",name:"",email:"",token:"",type:"",api:"",props:["name","email","token","type","api"]})});const De=n({name:"AccountProperties",props:{viewManager:{type:Object,required:!0}},computed:{editProps(){return this.viewManager.editProps},typeClass(){return"free"===this.editProps.type?"":"badge-"+this.editProps.type}},created(){this.viewManager.adding&&(this.editProps.email=localStorage.getItem("email"),this.editProps.token=localStorage.getItem("token"),this.editProps.api=this.getApiType()),this.editProps.type=this.getAccountType()},methods:{getAccountType:()=>m.conditionalFeatures.featureEnabled("team")?"team":m.conditionalFeatures.featureEnabled("plus")?"plus":"free",getApiType:()=>localStorage.getItem("api")?"staging":"live"}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"properties"},[t("div",{staticClass:"property email",attrs:{title:e.editProps.email}},[t("label",[e._v("Email")]),t("div",[e._v(e._s(e.editProps.email))])]),t("div",{staticClass:"property type"},[t("label",[e._v("Type")]),t("div",{staticClass:"badge",class:e.typeClass},[e._v(e._s(e.editProps.type))])]),t("div",{staticClass:"property api"},[t("label",[e._v("API")]),t("div",[e._v(e._s(e.editProps.api))])])])}),[],!1,null,"dcd9de92").exports,Ne=new(c.extend({mixins:[P],unreactive:()=>({Model:Ee,dataService:Te,type:"accounts",fields:[{label:"Name",property:"name",type:"input"},{type:De}]})}));const Oe=n({name:"AccountListItem",props:{item:{type:Object,required:!0},viewManager:{type:Object,required:!0}},computed:{typeClass(){return"free"===this.item.type?"":"badge-"+this.item.type}},methods:{edit(){this.viewManager.setItem(this.item),this.viewManager.showView("edit")},logIn(){let{api:e,token:t,email:a}=this.item;const r=localStorage.getItem("api");e="5000"===r?r:"live"===e?"":e,m.utils.clearStorage().finally((()=>{localStorage.setItem("api",e),localStorage.setItem("token",t),localStorage.setItem("email",a),m.$e.sendCrossTabMessage("reload"),location.reload()}))}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"account"},[t("div",{staticClass:"left"},[t("div",{staticClass:"name",attrs:{title:e.item.email}},[e._v(e._s(e.item.name||e.item.email))]),t("div",{staticClass:"properties"},[t("div",{staticClass:"badge",class:e.typeClass},[e._v(e._s(e.item.type))]),t("div",{staticClass:"badge"},[e._v(e._s(e.item.api))])])]),t("div",{staticClass:"right"},[t("div",{staticClass:"icon-wrapper",on:{click:e.edit}},[t("inline-svg",{staticClass:"icon icon-cog",attrs:{src:E}})],1),t("div",{staticClass:"icon-wrapper",on:{click:e.logIn}},[t("inline-svg",{staticClass:"icon icon-log-in",attrs:{src:a}})],1)])])}),[],!1,null,"e32ba14f").exports;const Re=n({name:"DevPanel",tabs:[{name:"Tools",component:Pe},{name:"Apps",component:L},{name:"Modals",component:Me},{name:"Account Switch",component:n({name:"AccountSwitch",components:{ViewContainer:D,EditForm:T,ItemList:S},unreactive:()=>({itemComponent:Oe,viewManager:new I({unreactive(){return{collection:Ne,views:{list:{defaultView:!0},edit:{addView:!0,afterLeave:this.clearItem}}}}})}),computed:{activeViewComponent(){return"list"===this.activeViewId?"item-list":"edit"===this.activeViewId?"edit-form":void 0},isEmpty:()=>!Object.keys(Ne.data.items).length,activeViewId(){return this.viewManager.activeViewId}},methods:{async createLegacyUnregisteredUser(){await m.utils.clearStorage(),localStorage.setObject("momentum-customization-1",{id:1,displayname:"legacy"}),window.location.reload()},download(){const e=JSON.stringify(Object.values(Ne.data.items).map((e=>{const{name:t,type:a,email:r,token:n,api:i,props:o}=e;return{name:t,type:a,email:r,token:n,api:i,props:o}}))),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","account_switcher_export.ase_json"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},restore(e){const t=e.target.files;if(!t[0])return;let a=new FileReader;a.onload=e=>{const t=e.target.result;if(t){JSON.parse(t).forEach((e=>{Ne.add({name:"",type:"",email:"",token:"",api:"",id:"",props:e.props,editProps:e})}))}location.reload()},a.readAsText(t[0])}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"account-switch"},[t("view-container",{attrs:{"view-manager":e.viewManager,"smooth-reflow":!1,transition:"smooth-height-fade"},scopedSlots:e._u([{key:"header",fn:function(){return["list"!==e.activeViewId||e.isEmpty?"edit"===e.activeViewId?t("header",{key:"2",staticClass:"account-header"},[t("div",[e._v(e._s(e.viewManager.adding?"Add":"Edit")+" Account")]),t("div",[e.viewManager.adding?e._e():t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showDeleteConf()}}},[t("inline-svg",{staticClass:"icon icon-trash",attrs:{src:r}})],1),t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showView("default")}}},[t("inline-svg",{staticClass:"icon icon-close",attrs:{src:O}})],1)])]):e._e():t("header",{key:"1",staticClass:"account-header"},[t("div",[e._v("Saved Accounts")]),t("div",{staticClass:"icon-wrapper",on:{click:function(t){return e.viewManager.showView("add")}}},[t("inline-svg",{staticClass:"icon icon-add",attrs:{src:N}})],1)])]},proxy:!0},{key:"body",fn:function(){return[t(e.activeViewComponent,{key:e.activeViewId,tag:"component",attrs:{"view-manager":e.viewManager,"item-component":e.itemComponent}})]},proxy:!0}])}),t("div",{staticClass:"button",on:{click:e.createLegacyUnregisteredUser}},[e._v("Legacy Unregistered User")]),t("div",{staticClass:"button",on:{click:e.download}},[e._v("Download")]),e._v(" Restore: "),t("input",{staticClass:"button",attrs:{type:"file",accept:".ase_json"},on:{change:e.restore}})],1)}),[],!1,null,"967edc85").exports},{name:"Gradient",component:Se},{name:"Notification",component:U},{name:"Background",component:je}],components:{DevInfo:q,DevNav:R},data:()=>({show:!0,showDropdown:!1,activeTabId:"Tools"}),computed:{activeTabComponent(){const e=this.$options.tabs.find((e=>this.activeTabId===e.name));return e&&e.component}},watch:{show:{handler(e){e?(document.body.classList.add("showing-dev-panel"),localStorage.setItem("dev-panel:open",!0)):(document.body.classList.remove("showing-dev-panel"),localStorage.removeItem("dev-panel:open")),u.$emit("devPanelToggled",!0),m.devPanelActive=e},immediate:!0}},created(){m.on("globalEvent:ctrlShiftBacktick",this.toggleDevPanel),this.activeTabId=localStorage.getItem("dev-panel:active-tab")||this.activeTabId},destroyed(){m.off("globalEvent:ctrlShiftBacktick",this.toggleDevPanel)},methods:{toggleDevPanel(){this.show=!this.show},goToTab(e){localStorage.setItem("dev-panel:active-tab",e),this.activeTabId=e}}},(function(){var e=this,t=e._self._c;return e.show?t("div",{staticClass:"dev-panel app",on:{mousedown:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()},click:function(e){e.stopPropagation()}}},[t("dev-nav",{attrs:{"active-tab-id":e.activeTabId,tabs:e.$options.tabs,"dropdown-active":e.showDropdown},on:{"update:dropdownActive":function(t){e.showDropdown=t},"update:dropdown-active":function(t){e.showDropdown=t},goToTab:e.goToTab}}),t(e.activeTabComponent,{tag:"component",staticClass:"dev-panel-component",class:{"showing-nav":e.showDropdown},attrs:{"selected-item":e.activeTabId}}),t("dev-info")],1):e._e()}),[],!1,null,"9f8d523b").exports;export{Re as default};