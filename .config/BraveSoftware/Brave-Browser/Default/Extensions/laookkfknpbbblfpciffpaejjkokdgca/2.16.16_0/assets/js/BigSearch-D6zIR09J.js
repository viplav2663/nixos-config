const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/SearchChat-CdIODuI8.js","assets/js/index-D7SyL4qE.js","assets/js/icon-alert--q0yLTMi.js","assets/js/localStorage-4iHdj-SC.js","assets/js/preload-helper-DmNsytk6.js","assets/js/string-GDe0WbEj.js","assets/js/ChatContent-ByFt9pSt.js","assets/js/AppView-DvfYjlXn.js","assets/css/AppView-CN0ZToq1.css","assets/js/index-DQvfDEB6.js","assets/js/migrateLegacyUserMessageHandler-DMvEmYM4.js","assets/js/main-FH8FpKq2.js","assets/css/index-C0DDMXTO.css","assets/js/google-DKPAcOmk.js","assets/js/icon-back-D_TFrgyJ.js","assets/js/SmoothReflow-Du5fECCq.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/js/AppViewSwitchDynamic-CG-8EiMD.js","assets/css/AppViewSwitchDynamic-BrdO2Yfv.css","assets/js/AppHeader-DgK-F-wR.js","assets/js/AppHeaderControl-FZTURLhY.js","assets/css/AppHeaderControl-C6b_K81h.css","assets/js/icon-hide-NFfBhfBx.js","assets/css/AppHeader-CXINzJ-M.css","assets/js/AppEmpty-vIXfvRp8.js","assets/css/AppEmpty-Dx9PwJtJ.css","assets/js/chat-DEBMEkK5.js","assets/js/icon-plus-D4YOesIc.js","assets/js/arrow-up-1QPpu78M.js","assets/css/ChatContent-D50rOtYj.css","assets/js/globalKeyEventManager-Bi-yHy9P.js","assets/css/SearchChat-CJ_dI_6n.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./preload-helper-DmNsytk6.js";import{S as e,m as s}from"./SearchInput-CR1JHKIX.js";import{a as r}from"./reactiveCustomization-DqGARD3C.js";import{T as o}from"./index-DQvfDEB6.js";import{a}from"./allComponentsMounted-C3UsG_cA.js";import{u as i}from"./chat-DEBMEkK5.js";import{u as p}from"./ViewState-_YxhE_TX.js";import{$ as n,e as c,n as h,A as l}from"./icon-alert--q0yLTMi.js";import{s as u}from"./showAnyway-d_ZUKj8O.js";import"./google-DKPAcOmk.js";import"./SoftFocus-BUhesXB-.js";import"./BaseDropdown-DBvV1Fy2.js";import"./BaseDropdownContent-BSCj37As.js";import"./constants-CALDQiUE.js";import"./index-D7SyL4qE.js";import"./portal-vue.esm-SV1wohGy.js";import"./icon-ellipsis-D3jS4u3x.js";import"./BaseDropdownText-CrjTnGhF.js";import"./BaseDropdownOption-umPWLVqy.js";import"./onboardingStepCollection-BKBgZU5n.js";import"./VueBase-W7f1OYgs.js";import"./index-CJJH83pl.js";import"./itemModelMixin-B7XBtNZL.js";import"./namesMixin-DfNb5KMg.js";import"./itemDataServiceMixins-DPsPiv13.js";import"./icon-asana-Csd73e1k.js";import"./focusModeHelpers-CiIJnkuY.js";import"./scenes-D8jpYIdj.js";import"./ocean-bubbles-GcKjBI5B.js";import"./PomodoroTimers-BWkB-14p.js";import"./SubscriptionSummary-eTeXKiGw.js";import"./localStorage-4iHdj-SC.js";import"./string-GDe0WbEj.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./main-FH8FpKq2.js";import"./authService-CGVTYYkM.js";import"./loginHelpers-BZASe8UD.js";import"./icon-confetti-Dz2LojDe.js";import"./siteBlockerGroups-E8GFJ9Dm.js";import"./constants-BT5o8PmI.js";import"./compareObjects-BF7sSNEf.js";import"./icon-down-BiHbKN-t.js";const d=p("searchChat"),j=new l({feature:"ask ai",is_paid_event:!0,location:"search"});const g=h({name:"BigSearch",components:{SearchChat:()=>t((()=>import("./SearchChat-CdIODuI8.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32])),SearchInput:e,ThreeColLayout:o},mixins:[a],provide(){return{viewStateStore:this.searchChatViewStateStore,capture:j.capture.bind(j)}},setup:()=>({showAnyway:u}),computed:{...n(i,d),searchVisible:()=>r.searchVisible&&r.centerBelowNavVisible},mounted(){m.widgetManager.appReady(s.id),m.trigger("bigSearch:mounted")},methods:{showChatPopup(t){if(!this.$plus)return this.showAiChatUpsell();this.searchChatViewStateStore.togglePopup(!0),this.chatStore.clear(),this.chatStore.input=t;const e=this.chatStore.input.length;this.chatStore.submit({afterSuccess:()=>this.captureAnalyticsWithCommonProps("send message",{message_length:e}),afterError:()=>this.captureAnalyticsWithCommonProps("send message error",{message_length:e})}),c.$emit("chat:close")},showAiChatUpsell(){m.cmd("modal.open","UPSELL_AI_CHAT",{eventSource:"dash"})},captureAnalyticsWithCommonProps(t,e={}){j.capture(t,{message_count:this.chatStore.chatMessages.length,...this.chatStore.error?{error_type:this.chatStore.error.type,error_message:this.chatStore.error.message}:{},...e})}}},(function(){var t=this,e=t._self._c;return e("three-col-layout",{staticClass:"has-dash-icon big-search-wrapper",attrs:{"grow-center":!0,"max-center-grow":"584px"},scopedSlots:t._u([{key:"left",fn:function(){return[t._t("nav")]},proxy:!0},{key:"center",fn:function(){return[e("div",{staticClass:"big search app-container hide-apps-no-fade",class:{"show-anyway":t.showAnyway.includes("big-search")},attrs:{"data-test":"search","data-show-anyway":"big-search"}},[e("search-input",{staticClass:"hide-apps-fade",attrs:{"big-search":!0,placeholder:"Search"},on:{showChatPopup:t.showChatPopup}}),e("transition",{attrs:{name:"search-expand"}},[t.searchChatViewStateStore.popupActive?e("search-chat",{on:{close:function(e){return t.searchChatViewStateStore.togglePopup(!1)}}}):t._e()],1),e("div",{staticClass:"backdrop-filter hide-apps-fade"})],1)]},proxy:!0}],null,!0)})}),[],!1,null,"89eac1d4").exports;export{g as default};