const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/LocationTypeahead-B50KyiDc.js","assets/js/SoftFocus-BUhesXB-.js","assets/js/SmoothReflow-Du5fECCq.js","assets/js/icon-alert--q0yLTMi.js","assets/js/localStorage-4iHdj-SC.js","assets/js/preload-helper-DmNsytk6.js","assets/js/string-GDe0WbEj.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/css/LocationTypeahead-DhC2n4K3.css","assets/js/DetailedInfo-CHDfXKw-.js","assets/js/icon-weather-reset-C06kxk3l.js","assets/css/DetailedInfo-CmNmKbr6.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./preload-helper-DmNsytk6.js";import{l as e}from"./BaseIcon-B5UifJH3.js";import{f as i,g as s,e as o}from"./icon-weather-reset-C06kxk3l.js";import{n as a}from"./icon-alert--q0yLTMi.js";import{S as r}from"./SmoothReflow-Du5fECCq.js";import{a as n}from"./reactiveCustomization-DqGARD3C.js";import{w as c}from"./main-1HvsuqSt.js";import l from"./Dropdown-OXqSLuGU.js";import{A as p}from"./AppPopup-CAECMUMV.js";import{g as d}from"./globalKeyEventManager-Bi-yHy9P.js";import{_ as h}from"./icon-edit-CixeXNYx.js";import{c as u}from"./icon-trash-BQ1O-AfY.js";import{_ as g}from"./icon-hide-NFfBhfBx.js";import{_ as v}from"./icon-close-BUGl_M7j.js";import"./arrow-Be8MuPJi.js";import"./icon-settings-Bycjf8-G.js";import"./icon-back-arrow-CiRQJ6G-.js";import"./icon-back-D_TFrgyJ.js";import"./icon-cog-BFr_Pva7.js";import"./icon-skip-BOkC5L0N.js";import"./icon-down-BiHbKN-t.js";import"./icon-ellipsis-D3jS4u3x.js";import"./icon-error-state-BKQhfBCj.js";import"./icon-heart-v5O7C6eS.js";import"./icon-key-BPNRipb3.js";import"./icon-next-B4hjdiAA.js";import"./icon-photo-BrwqV1T0.js";import"./icon-pin-BHeOuzvO.js";import"./icon-plus-D4YOesIc.js";import"./icon-profile-B_XWyuTb.js";import"./icon-x-qUCmf2CW.js";import"./icon-skip-intro-BUi8b3Ak.js";import"./icon-tooltip-CN09iXOB.js";import"./icon-visible-on-CM3kpcFN.js";import"./icon-x-caret-half-CZtcH_PM.js";import"./tasks-completed-Dg2z75km.js";import"./add-COIuonao.js";import"./google-DKPAcOmk.js";import"./arrow-up-1QPpu78M.js";import"./square-check-DwLT60gj.js";import"./clocks-DjzskNOU.js";import"./close-Bj_A2br_.js";import"./search-DCqlmJx6.js";import"./folder-CwWTWsnJ.js";import"./switch-EuBTQVVE.js";import"./focus-mode-09pIyYAW.js";import"./storage-YYEO5TB5.js";import"./icon-confetti-Dz2LojDe.js";import"./ocean-bubbles-GcKjBI5B.js";import"./sparks-CAw9b6ob.js";import"./secure-B8YP-AML.js";import"./icon-asana-Csd73e1k.js";import"./icon-percent-schedule-CA5EI9b7.js";import"./icon-trello-DhCq-Fsi.js";import"./icon-clean-rFsPxTtp.js";import"./icon-more-lists-Cl9oRGK2.js";import"./icon-more-fonts-CcfOY0t4.js";import"./icon-focus-stats-keERwXFt.js";import"./icon-top-of-mind-B6EhbCcK.js";import"./icon-flow-5QqmGIWX.js";import"./icon-integrations-D9o58ob4.js";import"./icon-weather-extra-ufLpT_SX.js";import"./icon-spiral-gh4hwZDD.js";import"./icon-happy-place-D1z6CJgM.js";import"./icon-time-sensitive-CP2L3maw.js";import"./icon-hourly-CdMmiQZT.js";import"./icon-infinity-D4yMRoAd.js";import"./icon-personalize-photos-D2M4lLlt.js";import"./icon-skip-2bGCAGKt.js";import"./icon-photo-match-C2EChNEK.js";import"./icon-random-375DbcwF.js";import"./icon-timezones-DGZoTtaT.js";import"./icon-simplify-BRUtLJYp.js";import"./icon-sync-DIH26Y9h.js";import"./localStorage-4iHdj-SC.js";import"./string-GDe0WbEj.js";import"./allComponentsMounted-C3UsG_cA.js";import"./VueBase-W7f1OYgs.js";import"./index-DQvfDEB6.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./main-FH8FpKq2.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-SV1wohGy.js";import"./AppContainer-DnRychOY.js";import"./showAnyway-d_ZUKj8O.js";import"./AppDash-CAm0VyUo.js";import"./hideEventsMixin-C3v17jdv.js";import"./appToggleMixin-IV4cErk-.js";import"./ViewState-_YxhE_TX.js";const f=a({name:"BasicInfo",props:{hourlyForecastShowing:{type:Boolean,required:!0},detailedInfoShowing:{type:Boolean,required:!0},conditions:{type:Object,required:!0},forecastDay:{type:Boolean,required:!0}},computed:{temperature(){return void 0===this.conditions.temperature?this.conditions.high:this.conditions.temperature},apparentTemperature(){return void 0===this.conditions.apparentTemperature?this.conditions.apparentHigh:this.conditions.apparentTemperature}},methods:{toggleOption(t){this.forecastDay||this.$emit(t)}}},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"basic-info"},[s("div",{staticClass:"current-icon-temp column",class:{active:t.hourlyForecastShowing,"toggle-cursor":!t.forecastDay},attrs:{"data-test":"toggle-hourly-div"},on:{click:function(e){return t.toggleOption("toggle-hourly-forecast")}}},[s("inline-svg",{staticClass:"weather-icon current-icon",attrs:{src:t.conditions.icon}}),s("div",{staticClass:"current-temp",attrs:{"data-test":"high-temp"}},[t._v(" "+t._s(t.temperature+"°")+" ")]),t.forecastDay&&t.$plus?s("div",{staticClass:"current-temp low"},[t._v(t._s(t.conditions.low+"°"))]):t._e(),t.forecastDay?t._e():s("inline-svg",{staticClass:"icon icon-down",attrs:{src:e}})],1),s("div",{staticClass:"current-summary column",class:{active:t.detailedInfoShowing,"toggle-cursor":!t.forecastDay},attrs:{"data-test":"toggle-details-div"},on:{click:function(e){return t.toggleOption("toggle-detailed-info")}}},[s("div",{staticClass:"summary-item"},[s("span",{staticClass:"title"},[t._v("Feels like")]),t._v(" "+t._s(t.apparentTemperature+"°")+" "),t.forecastDay&&t.$plus?s("span",{staticClass:"low"},[t._v(t._s(t.conditions.apparentLow+"°"))]):t._e()]),t.$plus?s("div",{staticClass:"summary-item"},[s("span",{staticClass:"title"},[s("span",{staticClass:"u--mobile-hide"},[t._v("Chance of "+t._s(t.conditions.precipitationChance.type.toLowerCase())+" ")]),s("span",{staticClass:"u--mobile-only-inline"},[t._v(t._s(t.conditions.precipitationChance.type)+" ")])]),t._v(" "+t._s(t.conditions.precipitationChance.chance)+"% ")]):s("div",{staticClass:"summary-item",attrs:{title:"Last 6 Hours"}},[s("span",{staticClass:"title u--mobile-hide"},[t._v("Recent "+t._s(t.conditions.precipitationType.toLowerCase()))]),s("span",{staticClass:"title u--mobile-only-inline"},[t._v(t._s(t.conditions.precipitationType)+" ")]),s("span",[t._v(t._s(t.conditions.precipAmount6Hours))])]),s("div",{staticClass:"summary-item"},[s("span",{staticClass:"title"},[t._v("Wind")]),s("inline-svg",{staticClass:"icon icon-arrow",style:`transform: rotate(${t.conditions.windDirection}deg)`,attrs:{src:i}}),t._v(" "+t._s(t.conditions.windSpeed)+" ")],1),t.forecastDay?t._e():s("inline-svg",{staticClass:"icon icon-down",attrs:{src:e}})],1)])}),[],!1,null,"46c257ac").exports;const y=a({name:"ForecastItem",props:{icon:{type:String,required:!0},time:{type:String,required:!0},temperature:{type:Number,required:!0},temperatureSecondary:{type:Number,default:null}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"forecast-item"},[e("div",{staticClass:"forecast-label",attrs:{"data-test":"forecast-label"}},[t._v(t._s(t.time))]),e("inline-svg",{staticClass:"weather-icon forecast-icon",attrs:{src:t.icon}}),e("div",{staticClass:"forecast-temp"},[e("span",{staticClass:"forecast-temp-high",attrs:{"data-test":"forecast-high"}},[t._v(t._s(t.temperature)+"°")]),t.temperatureSecondary?e("span",{staticClass:"forecast-temp-low"},[t._v(t._s(t.temperatureSecondary)+"°")]):t._e()])],1)}),[],!1,null,"5d074867").exports;const w=a({name:"WeatherApp",components:{AppPopup:p,Dropdown:l,SmoothReflow:r,LocationTypeahead:()=>t((()=>import("./LocationTypeahead-B50KyiDc.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),BasicInfo:f,DetailedInfo:()=>t((()=>import("./DetailedInfo-CHDfXKw-.js")),__vite__mapDeps([10,11,3,4,5,6,12])),ForecastItem:y},inject:["viewStateStore","capture"],data:()=>({typeaheadShowing:!1,alertShowing:!1,selectedDay:0,dropdownActive:!1}),computed:{loading:()=>c.loading,detailedDay(){return 0===this.selectedDay},conditions:()=>c.conditions,location:()=>c.locationName,noConnection:()=>c.noConnection,activeForecast(){return this.detailedDay?this.conditions.now:this.conditions.days[this.selectedDay]},temperatureUnit:{get:()=>n.temperatureUnit,set(t){n.temperatureUnit=t,this.capture("metrics unit toggle",{new_value:"c"===t})}},hourlyForecastShowing:{get(){return n.weatherHourly&&this.$plus},set(t){n.weatherHourly=t,this.capture("hourly forecast toggle",{new_value:t})}},detailedInfoShowing:{get(){return n.weatherDetail&&this.$plus},set(t){n.weatherDetail=t,this.capture("detailed weather toggle",{new_value:t})}},dropdownToggles(){return{hourly:{active:this.hourlyForecastShowing,onClick:()=>{this.$plus?this.hourlyForecastShowing=!this.hourlyForecastShowing:m.cmd("modal.open","UPSELL_WEATHER",{eventSource:"dash"})},title:"Hourly Forecast",dataTest:"toggle-hourly",plusFeature:!this.$plus},detailed:{active:this.detailedInfoShowing,onClick:()=>{this.$plus?this.detailedInfoShowing=!this.detailedInfoShowing:m.cmd("modal.open","UPSELL_WEATHER",{eventSource:"dash"})},title:"Detailed Info",dataTest:"toggle-details",plusFeature:!this.$plus},units:{active:"f"!==this.temperatureUnit,onClick:()=>this.temperatureUnit="f"!==this.temperatureUnit?"f":"c",title:"Metric Units",dataTest:"toggle-metrics",plusFeature:!1}}}},watch:{typeaheadShowing(t){t?d.registerEventListener("closeTypeahead","keyup",27,(()=>{this.typeaheadShowing=!1})):d.removeEventListener("closeTypeahead","keyup",27)}},created(){d.registerEventListener("closeApp","keyup",27,this.closeApp)},destroyed(){d.removeEventListener("closeApp","keyup",27)},methods:{refresh(){c.refreshFromServer()},setLocation(t=null){this.typeaheadShowing=!1,this.capture("location change",{automatic:!t}),c.setLocation(t)},selectForecastDay(t){this.selectedDay=t,this.capture("day select")},closeApp(){this.$emit("close")},closeTypeahead(){this.typeaheadShowing=!1},toggleDropdown(t=!this.dropdownActive){this.dropdownActive=t},providerClick(){this.capture("provider click",{provider:"Accuweather"})}}},(function(){var t=this,e=t._self._c;return e("app-popup",{attrs:{position:"bottom-left",width:460,region:"top-right",focused:t.viewStateStore.focused},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("div",{staticClass:"weather",class:{"show-alert":t.alertShowing,"show-typeahead":t.typeaheadShowing}},[t.conditions?e("div",[t.noConnection?e("div",{staticClass:"banner"},[e("div",{staticClass:"description"},[t._v("Weather info will update when you reconnect")]),e("div",{staticClass:"button-text",on:{click:t.refresh}},[t._v("Retry")])]):t._e(),e("div",{staticClass:"header",class:{"banner-active":t.noConnection}},[t.location?e("div",{staticClass:"left"},[e("div",{staticClass:"location"},[e("div",{staticClass:"location-name",attrs:{"data-test":"location-name"},on:{dblclick:function(e){t.typeaheadShowing=!0}}},[t._v(t._s(t.location))]),t.activeForecast.day?e("div",{staticClass:"forecast-day",attrs:{"data-test":"forecast-day-label"}},[t._v(t._s(t.activeForecast.day))]):t._e(),e("div",{staticClass:"icon-wrapper",attrs:{"data-test":"edit-icon"},on:{click:function(e){t.typeaheadShowing=!0}}},[e("inline-svg",{staticClass:"icon icon-edit",attrs:{src:h}})],1),t.loading?e("i",{staticClass:"loading-icon"}):t._e()]),t.activeForecast?e("div",{staticClass:"conditions"},[t._v(t._s(t.activeForecast.condition))]):t._e()]):t._e(),e("div",{staticClass:"right"},[e("dropdown",{staticClass:"weather-dropdown",attrs:{active:t.dropdownActive,"on-dash":!1,"data-test":"more"},on:{toggle:t.toggleDropdown}},[t._l(t.dropdownToggles,(function(i){return e("li",{key:i.title,staticClass:"dropdown-list-item has-toggle",class:{on:i.active},attrs:{"data-test":i.dataTest},on:{click:i.onClick}},[e("span",{staticClass:"dropdown-list-label"},[t._v(t._s(i.title)+" "),i.plusFeature?e("span",{staticClass:"badge badge-plus"},[t._v("PLUS")]):t._e()]),e("span",{staticClass:"toggle-slider"},[e("inline-svg",{staticClass:"toggle-switch",attrs:{src:u}})],1)])})),e("li",{staticClass:"dropdown-list-item",attrs:{"data-test":"edit-dropdown"},on:{click:function(e){t.typeaheadShowing=!0}}},[t._v(" Edit Location ")])],2),t.$touch?e("span",{staticClass:"mobile-close",on:{click:function(e){return t.$emit("close")}}},[e("span",{staticClass:"icon-wrapper u--mobile-show-bg hide"},[e("inline-svg",{staticClass:"icon icon-hide",attrs:{src:g}})],1)]):t._e()],1)]),t.typeaheadShowing?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeTypeahead,expression:"closeTypeahead"}],staticClass:"weather-typeahead",attrs:{"data-test":"typeahead"}},[e("location-typeahead",{attrs:{type:"location"},on:{input:t.setLocation}},[e("div",{staticClass:"input-icons"},[e("div",{staticClass:"icon-wrapper",on:{click:function(e){return t.setLocation(null,!1)}}},[e("inline-svg",{staticClass:"icon icon-target",attrs:{src:s}})],1),e("div",{staticClass:"icon-wrapper",attrs:{"data-test":"clear-icon"},on:{click:t.closeTypeahead}},[e("inline-svg",{staticClass:"icon icon-close",attrs:{src:v}})],1)])])],1):t._e(),e("div",{staticClass:"basic-weather section"},[t.activeForecast?e("basic-info",{attrs:{conditions:t.activeForecast,"forecast-day":!t.detailedDay||!t.$plus,"hourly-forecast-showing":t.hourlyForecastShowing,"detailed-info-showing":t.detailedInfoShowing},on:{"toggle-hourly-forecast":function(e){t.hourlyForecastShowing=!t.hourlyForecastShowing},"toggle-detailed-info":function(e){t.detailedInfoShowing=!t.detailedInfoShowing}}}):t._e()],1),e("smooth-reflow",{attrs:{nested:!0,duration:350,"hide-overflow":!0}},[t.hourlyForecastShowing&&t.conditions&&t.detailedDay?e("div",{staticClass:"hourly-forecast section",attrs:{"data-test":"weather-hourly"}},t._l(t.conditions.hours,(function(t,i){return e("forecast-item",{key:i,attrs:{time:t.hour,icon:t.icon,temperature:t.temperature}})})),1):t._e()]),e("smooth-reflow",{attrs:{nested:!0,duration:350,"hide-overflow":!0}},[t.detailedInfoShowing&&t.activeForecast&&t.detailedDay?e("div",{staticClass:"detailed-weather section",attrs:{"data-test":"weather-details"}},[e("detailed-info",{attrs:{forecast:t.activeForecast}})],1):t._e()]),t.conditions&&t.$plus?e("div",{staticClass:"daily-forecast section"},t._l(t.conditions.days,(function(i,s){return e("forecast-item",{key:s,staticClass:"has-action",class:{selected:s===t.selectedDay},attrs:{time:i.day.slice(0,3),icon:i.icon,temperature:i.high,"temperature-secondary":i.low,"data-test":"forecast-day"},nativeOn:{click:function(e){return t.selectForecastDay(s)}}})})),1):t._e(),e("div",{staticClass:"source section"},[e("a",{staticClass:"source-link has-action",attrs:{href:t.activeForecast.link,target:"_blank"},on:{click:t.providerClick}},[t._v(" "+t._s(t.$plus?"More weather info →":"Current conditions and 7-day forecast →")+" "),e("inline-svg",{staticClass:"icon icon-external",attrs:{src:o}})],1),e("img",{staticClass:"source-logo",attrs:{src:"/assets/png/logo-accuweather-BrOG6cnu.png"}})])],1):e("div",{staticClass:"empty"},[e("div",{staticClass:"title"},[t._v("Looks like you're offline")]),e("div",{staticClass:"description"},[t._v("Weather info will resume when you're reconnected")]),e("div",{staticClass:"button",on:{click:t.refresh}},[t._v("Retry")])])])])}),[],!1,null,"a63eae09").exports;export{w as default};