import{u as t}from"./index-D7SyL4qE.js";import{n as e,z as i,N as r,r as o}from"./icon-alert--q0yLTMi.js";import{C as s}from"./ChatContent-ByFt9pSt.js";import{g as n}from"./globalKeyEventManager-Bi-yHy9P.js";import"./localStorage-4iHdj-SC.js";import"./preload-helper-DmNsytk6.js";import"./string-GDe0WbEj.js";import"./AppView-DvfYjlXn.js";import"./index-DQvfDEB6.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./main-FH8FpKq2.js";import"./google-DKPAcOmk.js";import"./icon-back-D_TFrgyJ.js";import"./SmoothReflow-Du5fECCq.js";import"./allComponentsMounted-C3UsG_cA.js";import"./AppViewSwitchDynamic-CG-8EiMD.js";import"./AppHeader-DgK-F-wR.js";import"./AppHeaderControl-FZTURLhY.js";import"./icon-hide-NFfBhfBx.js";import"./AppEmpty-vIXfvRp8.js";import"./chat-DEBMEkK5.js";import"./icon-plus-D4YOesIc.js";import"./arrow-up-1QPpu78M.js";const a={up:"up",down:"down"};const p=e({name:"SearchChat",components:{ChatContent:s,ProvideAppDimensions:e({name:"ProvideAppDimensions",provide(){const t=this;return{appDimensions:{get maxHeight(){return t.maxHeight},get height(){return t.rect.height.value},get width(){return t.rect.width.value}}}},props:{direction:{type:String,required:!0,validator:t=>Object.values(a).includes(t)}},setup(){const e=i(null);return{el:e,rect:t(e)}},computed:{maxHeight(){return this.direction===a.up?this.rect.bottom.value-r.dashboardVerticalPaddingPx:o.windowDimensions.height-this.rect.top.value-r.dashboardVerticalPaddingPx}}},(function(){var t=this;return(0,t._self._c)("div",{ref:"el",style:{"--content-max-height":t.maxHeight+"px"}},[t._t("default")],2)}),[],!1,null,null).exports},inject:["viewStateStore"],unreactive:()=>({directionEnum:a}),mounted(){n.registerEventListener("closeApp","keyup",27,(()=>this.$emit("close")))},destroyed(){n.removeEventListener("closeApp","keyup",27)}},(function(){var t=this,e=t._self._c;return e("provide-app-dimensions",{staticClass:"search-chat bg",class:{focused:t.viewStateStore.focused,unfocused:!t.viewStateStore.focused},attrs:{"data-test":"search-ask-ai",direction:t.directionEnum.up},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("chat-content",{on:{close:function(e){return t.$emit("close")}}})],1)}),[],!1,null,"d6298c95").exports;export{p as default};