import{_ as t}from"./icon-ellipsis-D3jS4u3x.js";import{n as o}from"./icon-alert--q0yLTMi.js";import"./localStorage-4iHdj-SC.js";import"./preload-helper-DmNsytk6.js";import"./string-GDe0WbEj.js";const e=o({doNotWaitForMount:!0,name:"Dropdown",props:{dataOb:{type:String,default:""},active:{type:Boolean,default:!1},onDash:{type:Boolean,default:!1}},data:()=>({shiftToLeft:!1}),watch:{active(t){t?(this.shiftToLeft=!1,this.$nextTick(this.shiftDropdownLeftIfNeeded),window.addEventListener("resize",this.debouncedDropdownShift)):window.removeEventListener("resize",this.debouncedDropdownShift)}},created(){m.on("globalEvent:esc",this.hideDropdown),m.on("globalEvent:toggle:bottom-right",this.hideDropdown)},destroyed(){m.off("globalEvent:esc",this.hideDropdown),m.off("globalEvent:toggle:bottom-right",this.hideDropdown),window.removeEventListener("resize",this.shouldDropdownShiftToLeft)},methods:{hideDropdown(t){this.active&&(this.$touch&&t.stopPropagation(),this.$emit("toggle",!1))},shiftDropdownLeftIfNeeded(){const t=this.$refs.dropdown&&this.$refs.dropdown.getBoundingClientRect();if(!t)return;const o=window.innerWidth-t.right;this.shiftToLeft=!(o>=135)},debouncedDropdownShift(){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{this.shiftToLeft=!1,this.$nextTick(this.shiftDropdownLeftIfNeeded)}),200)}}},(function(){var o=this,e=o._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:o.hideDropdown,expression:"hideDropdown"}],staticClass:"more",class:{"shift-to-left":o.shiftToLeft,"dropdown-visible":o.active,"more-dash":o.onDash},attrs:{"data-test":"more-container"}},[o._t("moreToggle",(function(){return[e("div",{staticClass:"icon-wrapper more-toggle",class:{"dash-icon-wrapper":o.onDash,"u--touch-hide":o.onDash},attrs:{"data-test":"more-toggle","data-ob":o.dataOb},on:{click:function(t){return o.$emit("toggle",!o.active)}}},[e("inline-svg",{staticClass:"icon icon-ellipsis more-icon",class:{"dash-icon":o.onDash},attrs:{src:t}})],1)]})),e("transition",{attrs:{name:"open"}},[o.active?e("div",{ref:"dropdown",staticClass:"dropdown more-dropdown",class:{"app dash-dropdown nipple nipple-top-left":o.onDash},attrs:{"data-test":"dropdown"}},[o._t("header"),o._t("upsell"),e("ul",{staticClass:"dropdown-list",class:{"dropdown-hide":o.$slots.upsell},attrs:{"data-test":"dropdown-options"}},[o._t("default")],2)],2):o._e()])],2)}),[],!1,null,"0e8069d7").exports;export{e as default};