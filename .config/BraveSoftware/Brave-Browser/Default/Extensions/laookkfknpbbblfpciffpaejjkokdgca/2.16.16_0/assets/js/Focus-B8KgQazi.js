const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/FocusContent-gMXUNIy8.js","assets/js/preload-helper-DmNsytk6.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/js/index-DQvfDEB6.js","assets/js/icon-alert--q0yLTMi.js","assets/js/localStorage-4iHdj-SC.js","assets/js/string-GDe0WbEj.js","assets/js/migrateLegacyUserMessageHandler-DMvEmYM4.js","assets/js/main-FH8FpKq2.js","assets/css/index-C0DDMXTO.css","assets/js/main-BclVZKEy.js","assets/js/VueBase-W7f1OYgs.js","assets/js/index-CJJH83pl.js","assets/js/portal-vue.esm-SV1wohGy.js","assets/js/reactiveCustomization-DqGARD3C.js","assets/js/search-DCqlmJx6.js","assets/js/SmoothReflow-Du5fECCq.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/css/main-CT07Rq9s.css","assets/js/DashCheckbox-C5KvMjHL.js","assets/js/BaseIcon-B5UifJH3.js","assets/js/arrow-Be8MuPJi.js","assets/js/icon-weather-reset-C06kxk3l.js","assets/js/icon-settings-Bycjf8-G.js","assets/js/icon-back-arrow-CiRQJ6G-.js","assets/js/icon-back-D_TFrgyJ.js","assets/js/icon-trash-BQ1O-AfY.js","assets/js/icon-close-BUGl_M7j.js","assets/js/icon-cog-BFr_Pva7.js","assets/js/icon-skip-BOkC5L0N.js","assets/js/icon-down-BiHbKN-t.js","assets/js/icon-edit-CixeXNYx.js","assets/js/icon-ellipsis-D3jS4u3x.js","assets/js/icon-error-state-BKQhfBCj.js","assets/js/icon-heart-v5O7C6eS.js","assets/js/icon-hide-NFfBhfBx.js","assets/js/icon-key-BPNRipb3.js","assets/js/icon-next-B4hjdiAA.js","assets/js/icon-photo-BrwqV1T0.js","assets/js/icon-pin-BHeOuzvO.js","assets/js/icon-plus-D4YOesIc.js","assets/js/icon-profile-B_XWyuTb.js","assets/js/icon-x-qUCmf2CW.js","assets/js/icon-skip-intro-BUi8b3Ak.js","assets/js/icon-tooltip-CN09iXOB.js","assets/js/icon-visible-on-CM3kpcFN.js","assets/js/icon-x-caret-half-CZtcH_PM.js","assets/js/tasks-completed-Dg2z75km.js","assets/js/add-COIuonao.js","assets/js/google-DKPAcOmk.js","assets/js/arrow-up-1QPpu78M.js","assets/js/square-check-DwLT60gj.js","assets/js/clocks-DjzskNOU.js","assets/js/close-Bj_A2br_.js","assets/js/folder-CwWTWsnJ.js","assets/js/switch-EuBTQVVE.js","assets/js/focus-mode-09pIyYAW.js","assets/js/storage-YYEO5TB5.js","assets/js/icon-confetti-Dz2LojDe.js","assets/js/ocean-bubbles-GcKjBI5B.js","assets/js/sparks-CAw9b6ob.js","assets/js/secure-B8YP-AML.js","assets/js/icon-asana-Csd73e1k.js","assets/js/icon-percent-schedule-CA5EI9b7.js","assets/js/icon-trello-DhCq-Fsi.js","assets/js/icon-clean-rFsPxTtp.js","assets/js/icon-more-lists-Cl9oRGK2.js","assets/js/icon-more-fonts-CcfOY0t4.js","assets/js/icon-focus-stats-keERwXFt.js","assets/js/icon-top-of-mind-B6EhbCcK.js","assets/js/icon-flow-5QqmGIWX.js","assets/js/icon-integrations-D9o58ob4.js","assets/js/icon-weather-extra-ufLpT_SX.js","assets/js/icon-spiral-gh4hwZDD.js","assets/js/icon-happy-place-D1z6CJgM.js","assets/js/icon-time-sensitive-CP2L3maw.js","assets/js/icon-hourly-CdMmiQZT.js","assets/js/icon-infinity-D4yMRoAd.js","assets/js/icon-personalize-photos-D2M4lLlt.js","assets/js/icon-skip-2bGCAGKt.js","assets/js/icon-photo-match-C2EChNEK.js","assets/js/icon-random-375DbcwF.js","assets/js/icon-timezones-DGZoTtaT.js","assets/js/icon-simplify-BRUtLJYp.js","assets/js/icon-sync-DIH26Y9h.js","assets/css/BaseIcon-BlT7Qz-y.css","assets/css/DashCheckbox-DAn5lESi.css","assets/css/FocusContent-CWVvKefF.css","assets/js/TeamFocus-yl1kRPKL.js","assets/js/Dropdown-OXqSLuGU.js","assets/css/Dropdown-BcLAxJWG.css","assets/js/DropdownOption-Doji5Bwd.js","assets/css/TeamFocus-BLbizBOv.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./preload-helper-DmNsytk6.js";import t from"./focusCollection-DJwEOnFQ.js";import{M as s}from"./MobileBlur-B2s9dLKD.js";import{s as o}from"./showAnyway-d_ZUKj8O.js";import{c as i}from"./main-BclVZKEy.js";import{T as a}from"./index-DQvfDEB6.js";import{a as r}from"./allComponentsMounted-C3UsG_cA.js";import{n,u as c}from"./icon-alert--q0yLTMi.js";import{f as u}from"./flashMessageMixin-Bo-_qvLn.js";import{g as l}from"./globalKeyEventManager-Bi-yHy9P.js";import{c as p}from"./constants-BT5o8PmI.js";import{g as d}from"./focusFlashMessageHelpers-BehuxQc7.js";import"./VueBase-W7f1OYgs.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-SV1wohGy.js";import"./itemModelMixin-B7XBtNZL.js";import"./reactiveCustomization-DqGARD3C.js";import"./namesMixin-DfNb5KMg.js";import"./addin-d8CNU_f0.js";import"./style-TaIEnhS-.js";import"./ViewState-_YxhE_TX.js";import"./main-FH8FpKq2.js";import"./handlebarLoader-xbtIzd6B.js";import"./search-DCqlmJx6.js";import"./SmoothReflow-Du5fECCq.js";import"./localStorage-4iHdj-SC.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./string-GDe0WbEj.js";import"./icon-confetti-Dz2LojDe.js";const f=(e,t)=>{e.style.opacity=t?"1":"0",e.style.pointerEvents=t?"":"none",e.style.visibility=t?"visible":"hidden"};const v=n({name:"Focus",components:{FocusContent:()=>e((()=>import("./FocusContent-gMXUNIy8.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87])),TeamFocus:()=>e((()=>import("./TeamFocus-yl1kRPKL.js")),__vite__mapDeps([88,89,32,4,5,1,6,90,91,2,3,7,8,9,40,31,27,92])),ThreeColLayout:a},directives:{MobileBlur:s,Visible:{bind:(e,{value:t})=>{f(e,t)},componentUpdated:(e,{value:t,oldValue:s,modifiers:o})=>{!t!=!s&&(o.transition&&(e.style.transition="opacity 0.5s ease, visibility 0.5s ease"),o.delay&&(e.style.transitionDelay=t?"0.5s":"0"),f(e,t))}}},mixins:[r,u],props:{inputPlaceholder:{type:String,default:""}},data:()=>({editing:!1,fontSizeScale:1}),computed:{teamFocusEnabled(){return m.conditionalFeatures.featureEnabled("team_focus")&&!this.$touch},activeFocus:()=>t.activeFocus,collectionReady:()=>t.loaded,emptyFocusVisible:()=>t.emptyFocus,displayedFocus(){var e;return null==(e=this.activeFocus)?void 0:e.focus}},watch:{displayedFocus:{handler(e){localStorage.setItem(p,e||"")},immediate:!0}},unreactive:()=>({showAnyway:o,centerBelowMetadata:i}),methods:{editCurrentFocus(){this.editing=!0,this.activeFocus.copyProperties(),this.focusOnPrompt(),l.registerEventListener("focus:edit","keyup",27,this.save)},archiveFocus(){t.archive()},completeFocus(){t.toggleComplete(),this.activeFocus.completed&&this.showFlashMessage(d())},save(){var e;this.editing&&(this.editing=!1,l.removeEventListener("focus:edit","keyup",27),this.emptyFocusVisible&&(this.activeFocus.editProps.forDate=m.utils.getDateString()),null==(e=this.$refs.prompt)||e.blur(),t.save().catch(console.error))},async focusOnPrompt(){var e;await c.delay(100),null==(e=this.$refs.prompt)||e.focus()},afterEnter(){m.trigger("focus-content:updated")}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"focuses app-container",class:{"show-anyway":e.showAnyway.includes("focus")},attrs:{"data-test":"focus","data-show-anyway":"focus"}},[e.collectionReady?t("div",{staticClass:"focus-wrapper has-dash-icon clock-view",attrs:{"data-ob":"focus-dash"}},[t("div",{directives:[{name:"visible",rawName:"v-visible.transition.delay",value:!e.editing&&!e.emptyFocusVisible,expression:"!editing && !emptyFocusVisible",modifiers:{transition:!0,delay:!0}}],staticClass:"focus-inner-wrapper"},[t("div",{staticClass:"focus"},[t("focus-content",{attrs:{focus:e.activeFocus},on:{complete:e.completeFocus,archive:e.archiveFocus,edit:e.editCurrentFocus,new:e.archiveFocus},scopedSlots:e._u([{key:"nav",fn:function(){return[e._t("nav")]},proxy:!0}],null,!0)})],1)]),t("three-col-layout",{directives:[{name:"visible",rawName:"v-visible.transition.delay",value:e.editing||e.emptyFocusVisible,expression:"editing || emptyFocusVisible",modifiers:{transition:!0,delay:!0}}],staticClass:"focus-prompt-wrapper",scopedSlots:e._u([{key:"left",fn:function(){return[e._t("nav")]},proxy:!0},{key:"center",fn:function(){return[t("div",{staticClass:"prompt"},[t("h3",{staticClass:"focus-question"},[e._v("What is your main goal for today?")]),t("span",{staticClass:"hidden-data"},[e._v(e._s(e.activeFocus.editProps.focus??""))]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.activeFocus.editProps.focus,expression:"activeFocus.editProps.focus",modifiers:{trim:!0}},{name:"mobile-blur",rawName:"v-mobile-blur",value:e.save,expression:"save"}],ref:"prompt",staticClass:"focus-input",attrs:{type:"text","data-test":"focus-input",autocomplete:"off"},domProps:{value:e.activeFocus.editProps.focus},on:{focus:e.editCurrentFocus,blur:[e.save,function(t){return e.$forceUpdate()}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.activeFocus.editProps,"focus",t.target.value.trim())}}})])]},proxy:!0}],null,!0)})],1):e._e(),t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.teamFocusEnabled?t("div",{staticClass:"team-focus-wrapper"},[t("team-focus")],1):e._e()])],1)}),[],!1,null,"5d3e04cd").exports;export{v as default};