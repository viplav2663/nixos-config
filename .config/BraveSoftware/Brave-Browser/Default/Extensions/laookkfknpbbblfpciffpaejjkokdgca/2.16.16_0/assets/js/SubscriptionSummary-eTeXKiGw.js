import{M as r,d as a,u as e,a as i,b as t}from"./icon-alert--q0yLTMi.js";import{p as s}from"./index-DQvfDEB6.js";import"./localStorage-4iHdj-SC.js";import"./preload-helper-DmNsytk6.js";import"./string-GDe0WbEj.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./main-FH8FpKq2.js";var n=(r=>(r.Plus="subscribed",r.TrialingCardless="trialingCardless",r.TrialingCard="trialingCard",r.ExpiredTrial="expiredTrial",r.ExpiredPlus="expiredPlus",r.Free="free",r))(n||{});const l=s((({loadedRef:r,loadingRef:s,refresh:n})=>a("userSubscriptionSummary",{state:()=>({active:!1,error:null,firstSubscriptionStart:null,hasPaymentMethod:!1,intent:null,pastDue:!1,subscriptionEnd:null,trialEnd:null,trialing:!1}),getters:{loaded:()=>r.value,loading:()=>s.value,status:r=>r.trialing&&r.hasPaymentMethod?"trialingCard":r.trialing&&!r.hasPaymentMethod?"trialingCardless":r.active?"subscribed":r.subscriptionEnd?"expiredPlus":r.trialEnd?"expiredTrial":"free",trialRemainingDays:r=>e.dateDiffIntegerDays(Date.now(),r.trialEnd??Date.now()),subscriptionDaysElapsed:r=>r.firstSubscriptionStart?e.dateDiffIntegerDays(new Date(r.firstSubscriptionStart),new Date)+1:0},actions:{refresh(a=!1){if(!i()&&!t())return n(a);r.value=!0}}})),{path:"user/subscription_summary",mode:r.TimestampStrict});export{n as SubscriptionStatus,l as default};