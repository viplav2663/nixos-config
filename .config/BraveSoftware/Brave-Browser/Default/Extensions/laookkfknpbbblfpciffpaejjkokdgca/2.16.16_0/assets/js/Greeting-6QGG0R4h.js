const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/ToastMenuLegacy-FWR1i4hA.js","assets/js/icon-alert--q0yLTMi.js","assets/js/localStorage-4iHdj-SC.js","assets/js/preload-helper-DmNsytk6.js","assets/js/string-GDe0WbEj.js","assets/css/ToastMenuLegacy-DzMwE8K6.css","assets/js/Dropdown-OXqSLuGU.js","assets/js/icon-ellipsis-D3jS4u3x.js","assets/css/Dropdown-BcLAxJWG.css","assets/js/DropdownOption-Doji5Bwd.js"])))=>i.map(i=>d[i]);
import{_ as t}from"./preload-helper-DmNsytk6.js";import{M as e}from"./Message-CoS2-mx6.js";import{a}from"./allComponentsMounted-C3UsG_cA.js";import{a as n}from"./reactiveCustomization-DqGARD3C.js";import{T as o}from"./index-DQvfDEB6.js";import{s as i}from"./showAnyway-d_ZUKj8O.js";import{n as r,u as s,e as d,A as g}from"./icon-alert--q0yLTMi.js";import"./MobileBlur-B2s9dLKD.js";import"./VueBase-W7f1OYgs.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-SV1wohGy.js";import"./localStorage-4iHdj-SC.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./main-FH8FpKq2.js";import"./string-GDe0WbEj.js";const p=r({name:"Greeting",components:{ThreeColLayout:o,Message:e,ToastMenu:()=>t((()=>import("./ToastMenuLegacy-FWR1i4hA.js")),__vite__mapDeps([0,1,2,3,4,5])),Dropdown:()=>t((()=>import("./Dropdown-OXqSLuGU.js")),__vite__mapDeps([6,7,1,2,3,4,8])),DropdownOption:()=>t((()=>import("./DropdownOption-Doji5Bwd.js")),__vite__mapDeps([9,1,2,3,4]))},mixins:[a],setup:()=>({mantraManager:m.models.mantraManager,showAnyway:i}),data:()=>({dropdownActive:!1,editingName:!1}),computed:{date:()=>m.models.date,name:()=>(n.displayname||"").trim(),greeting(){const t=s.getDayPart(this.date.get("date"));let e={name:this.name,punctuation:s.endsWithEndPunctuation(this.name)?"":"."};return e.content=this.name||this.editingName?`Good ${t}, `:`Good ${t}`,e}},mounted(){d.$on("greeting:name:edit",(()=>this.editing(!0)))},destroyed(){d.$off("greeting:name:edit",(()=>this.editing(!0)))},methods:{toggleDropdown(t){this.$emit("stop-cycle",t),this.dropdownActive=t},showMantra(){!this.mantraManager.noMantra||this.$plus?(this.mantraManager.isEnabled()&&!this.mantraManager.getActiveItem()?this.mantraManager.getActiveItem():this.mantraManager.isEnabled()||this.mantraManager.getActiveItem()?this.mantraManager.isEnabled()&&this.mantraManager.getActiveItem()&&this.$emit("show-mantra"):(this.mantraManager.toggleEnabled(),this.mantraManager.getActiveItem()),this.dropdownActive=!1,g.capture("mantra show",{feature:"mantras"})):m.cmd("modal.open","UPSELL_MANTRAS",{eventSource:"dash"})},editing(t){this.$emit("stop-cycle",t),this.editingName=t,this.dropdownActive=!1},onEditNameClick(){this.editing(!0),g.capture("display name change",{feature:"profile"})}}},(function(){var t=this,e=t._self._c;return e("three-col-layout",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:t.toggleDropdown.bind(null,!0),expression:"toggleDropdown.bind(null, true)"}],staticClass:"app-container has-dash-icon greeting",class:{"show-anyway":t.showAnyway.includes("greeting")},attrs:{"data-show-anyway":"greeting","data-test":"greeting"},scopedSlots:t._u([{key:"center",fn:function(){return[e("message",{attrs:{message:t.greeting,"editing-name":t.editingName},on:{editing:t.editing,toggle:t.toggleDropdown}})]},proxy:!0},{key:"right",fn:function(){return[e(t.$touch?"ToastMenu":"Dropdown",{tag:"component",attrs:{"on-dash":!0,active:t.dropdownActive,"section-title":"Greeting Actions"},on:{toggle:t.toggleDropdown}},[e("dropdown-option",{attrs:{name:"Show todayâ€™s mantra","data-test":"show-mantra"},nativeOn:{click:function(e){return t.showMantra.apply(null,arguments)}}}),e("li",{staticClass:"line"}),e("dropdown-option",{attrs:{name:"Edit your name","data-test":"edit-name"},nativeOn:{click:function(e){return e.stopPropagation(),t.onEditNameClick.apply(null,arguments)}}})],1)]},proxy:!0}])})}),[],!1,null,null).exports;export{p as default};