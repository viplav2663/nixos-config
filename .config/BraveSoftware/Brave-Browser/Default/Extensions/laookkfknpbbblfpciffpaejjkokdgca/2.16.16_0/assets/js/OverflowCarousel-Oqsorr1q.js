import{B as e}from"./constants-BpVlFj04.js";import{R as t,n as s}from"./icon-alert--q0yLTMi.js";import{a as o}from"./allComponentsMounted-C3UsG_cA.js";import{_ as n}from"./icon-next-B4hjdiAA.js";import"./localStorage-4iHdj-SC.js";import"./preload-helper-DmNsytk6.js";import"./string-GDe0WbEj.js";const l=s({name:"OverflowCarousel",directives:{ResizeSensor:t},mixins:[o],props:{direction:{type:String,default:e.Column,validator:t=>Object.values(e).some((e=>e===t))},contentReady:{type:Boolean,default:!0}},data:()=>({scrollPosition:0,scrollLength:0,containerLength:0}),computed:{isColumn(){return this.direction===e.Column},isOverflowing(){return this.scrollLength>this.containerLength},disablePrevious(){return this.scrollPosition<=0},disableNext(){return this.scrollPosition>=this.scrollLength-this.containerLength}},watch:{contentReady(){this.contentReady&&this.emitComponentMounted()}},methods:{updateScrollAndContainerValues(){this.$refs.carouselContent&&(this.isColumn?(this.containerLength=this.$refs.carouselContent.clientHeight+1,this.scrollPosition=this.$refs.carouselContent.scrollTop,this.scrollLength=this.$refs.carouselContent.scrollHeight):(this.containerLength=this.$refs.carouselContent.clientWidth+1,this.scrollPosition=this.$refs.carouselContent.scrollLeft,this.scrollLength=this.$refs.carouselContent.scrollWidth))},debounceUpdateScrollAndContainerValues(){this.scrollContainerDebounce?clearTimeout(this.scrollContainerDebounce):this.updateScrollAndContainerValues(),this.scrollContainerDebounce=setTimeout((()=>{this.updateScrollAndContainerValues(),this.scrollContainerDebounce=void 0}),100)},scroll(e=!0){const t=this.scrollPosition-(e?1:-1)*this.containerLength;this.$refs.carouselContent.scroll({left:this.isColumn?0:t,top:this.isColumn?t:0,behavior:"smooth"})},verticalRowScroll(e){var t;this.isColumn||Math.abs(e.deltaX)>Math.abs(e.deltaY)||(e.preventDefault(),null==(t=this.$refs.carouselContent)||t.scrollBy({left:e.deltaY,behavior:"auto"}))},onAllComponentsMountedOverride(){}}},(function(){var e=this,t=e._self._c;return t("div",{staticClass:"overflow-carousel",class:[e.direction]},[e.isOverflowing?t("button",{staticClass:"carousel-button previous",class:[e.direction,{disabled:e.disablePrevious}],attrs:{id:"overflow-carousel-left"},on:{click:e.scroll}},[t("inline-svg",{staticClass:"icon dash-icon",attrs:{src:n}})],1):e._e(),t("div",{directives:[{name:"resize-sensor",rawName:"v-resize-sensor",value:e.debounceUpdateScrollAndContainerValues,expression:"debounceUpdateScrollAndContainerValues"}],ref:"carouselContent",staticClass:"carousel-content",class:{"prev-disabled":e.disablePrevious,"next-disabled":e.disableNext},on:{scroll:e.debounceUpdateScrollAndContainerValues,wheel:e.verticalRowScroll}},[e._t("default")],2),e.isOverflowing?t("button",{staticClass:"carousel-button next",class:[e.direction,{disabled:e.disableNext}],attrs:{id:"overflow-carousel-right"},on:{click:function(t){return e.scroll(!1)}}},[t("inline-svg",{staticClass:"icon dash-icon",attrs:{src:n}})],1):e._e()])}),[],!1,null,"543127fe").exports;export{l as default};