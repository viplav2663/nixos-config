import{ai as t,d as s}from"./BaseIcon-B5UifJH3.js";import{A as e}from"./AppViewSwitchDynamic-CG-8EiMD.js";import{A as i}from"./AppPopup-CAECMUMV.js";import{a as o}from"./AppHeader-DgK-F-wR.js";import{A as n}from"./AppLoading-DC9RO0Iq.js";import{A as a}from"./AppView-DvfYjlXn.js";import{A as r}from"./AppEmpty-vIXfvRp8.js";import{A as l}from"./AppConfirmCancel-BJUvVb0h.js";import{B as p}from"./BaseDropdown-DBvV1Fy2.js";import{B as c}from"./BaseDropdownOption-umPWLVqy.js";import{B as d}from"./BaseItemList-C404Gcql.js";import{a as u}from"./allComponentsMounted-C3UsG_cA.js";import{S as h,T as w,a as f,N as b,p as S,b as v,W as g,G as y,u as j,c as C,H as D,m as _}from"./tabs-BMhS6WRr.js";import{n as T,ap as A,_ as k,A as x,o as O,z as P,T as R,m as E,ay as L,j as B,X as V,p as I}from"./icon-alert--q0yLTMi.js";import{_ as M}from"./icon-edit-CixeXNYx.js";import{_ as F}from"./icon-trash-BQ1O-AfY.js";import{A as W,a as N}from"./AppActionBanner-BfW8Mjx3.js";import{B as U}from"./BaseDropdownDivider-z6WJAu5K.js";import{F as H}from"./FavIcon-Ba-H42pn.js";import{A as $}from"./AppHeaderControl-FZTURLhY.js";import{O as G}from"./OptionsList-DW2yLHBQ.js";import{f as q}from"./flashMessageMixin-Bo-_qvLn.js";import{e as z}from"./index-DQvfDEB6.js";import{D as K,b as J}from"./constants-CALDQiUE.js";import{a as X}from"./reactiveCustomization-DqGARD3C.js";import{s as Q}from"./icon-weather-reset-C06kxk3l.js";import{_ as Y}from"./icon-back-arrow-CiRQJ6G-.js";import"./arrow-Be8MuPJi.js";import"./icon-settings-Bycjf8-G.js";import"./icon-back-D_TFrgyJ.js";import"./icon-close-BUGl_M7j.js";import"./icon-cog-BFr_Pva7.js";import"./icon-skip-BOkC5L0N.js";import"./icon-down-BiHbKN-t.js";import"./icon-ellipsis-D3jS4u3x.js";import"./icon-error-state-BKQhfBCj.js";import"./icon-heart-v5O7C6eS.js";import"./icon-hide-NFfBhfBx.js";import"./icon-key-BPNRipb3.js";import"./icon-next-B4hjdiAA.js";import"./icon-photo-BrwqV1T0.js";import"./icon-pin-BHeOuzvO.js";import"./icon-plus-D4YOesIc.js";import"./icon-profile-B_XWyuTb.js";import"./icon-x-qUCmf2CW.js";import"./icon-skip-intro-BUi8b3Ak.js";import"./icon-tooltip-CN09iXOB.js";import"./icon-visible-on-CM3kpcFN.js";import"./icon-x-caret-half-CZtcH_PM.js";import"./tasks-completed-Dg2z75km.js";import"./add-COIuonao.js";import"./google-DKPAcOmk.js";import"./arrow-up-1QPpu78M.js";import"./square-check-DwLT60gj.js";import"./clocks-DjzskNOU.js";import"./close-Bj_A2br_.js";import"./search-DCqlmJx6.js";import"./folder-CwWTWsnJ.js";import"./switch-EuBTQVVE.js";import"./focus-mode-09pIyYAW.js";import"./storage-YYEO5TB5.js";import"./icon-confetti-Dz2LojDe.js";import"./ocean-bubbles-GcKjBI5B.js";import"./sparks-CAw9b6ob.js";import"./secure-B8YP-AML.js";import"./icon-asana-Csd73e1k.js";import"./icon-percent-schedule-CA5EI9b7.js";import"./icon-trello-DhCq-Fsi.js";import"./icon-clean-rFsPxTtp.js";import"./icon-more-lists-Cl9oRGK2.js";import"./icon-more-fonts-CcfOY0t4.js";import"./icon-focus-stats-keERwXFt.js";import"./icon-top-of-mind-B6EhbCcK.js";import"./icon-flow-5QqmGIWX.js";import"./icon-integrations-D9o58ob4.js";import"./icon-weather-extra-ufLpT_SX.js";import"./icon-spiral-gh4hwZDD.js";import"./icon-happy-place-D1z6CJgM.js";import"./icon-time-sensitive-CP2L3maw.js";import"./icon-hourly-CdMmiQZT.js";import"./icon-infinity-D4yMRoAd.js";import"./icon-personalize-photos-D2M4lLlt.js";import"./icon-skip-2bGCAGKt.js";import"./icon-photo-match-C2EChNEK.js";import"./icon-random-375DbcwF.js";import"./icon-timezones-DGZoTtaT.js";import"./icon-simplify-BRUtLJYp.js";import"./icon-sync-DIH26Y9h.js";import"./SmoothReflow-Du5fECCq.js";import"./globalKeyEventManager-Bi-yHy9P.js";import"./preload-helper-DmNsytk6.js";import"./BaseDropdownContent-BSCj37As.js";import"./index-D7SyL4qE.js";import"./portal-vue.esm-SV1wohGy.js";import"./constants-BpVlFj04.js";import"./localStorage-4iHdj-SC.js";import"./string-GDe0WbEj.js";import"./migrateLegacyUserMessageHandler-DMvEmYM4.js";import"./main-FH8FpKq2.js";import"./VueBase-W7f1OYgs.js";import"./index-CJJH83pl.js";const Z=T({name:"SessionConfirmDelete",components:{AppConfirmCancel:l},props:{session:{type:h,required:!0}},emits:["cancel","delete"],computed:{deleteProps(){return{title:"Are you sure you want to delete this session?",description:this.session.sessionDescriptionTabs+(this.session.windows.length>1?" "+this.session.sessionDescriptionWindows:""),confirm:()=>this.$emit("delete"),confirmText:"Delete session",cancel:()=>this.$emit("cancel"),cancelText:"Keep session",dataTest:"confirm-delete"}}}},(function(){var t=this,s=t._self._c;return s("div",[s("app-confirm-cancel",t._b({attrs:{"data-test":"confirm-delete"}},"app-confirm-cancel",t.deleteProps,!1))],1)}),[],!1,null,"207670b1").exports;const tt=T({name:"SessionListItem",components:{BaseDropdownOption:c,BaseDropdown:p,SessionConfirmDelete:Z},mixins:[u],inject:["viewStateStore","itemStore"],props:{session:{type:h,required:!0}},emits:["delete","restore"],data(){return{editingTitle:!1,tempTitle:this.session.displayName,deleteConfirmationOpen:!1}},unreactive:()=>({titleClickDebounce:0,titleClickCounter:0}),computed:{displayName(){return this.session.displayName},iconCrossBrowserWarnVisible(){return this.session.browser!==A()}},watch:{async editingTitle(t){var s,e;t&&(await this.$nextTick(),null==(s=this.$refs.editingTitle)||s.focus(),await this.$nextTick(),null==(e=this.$refs.editingTitle)||e.select())}},methods:{openDeleteConfirmation(){this.deleteConfirmationOpen=!0},closeDeleteConfirmation(){this.deleteConfirmationOpen=!1},renameSession(){var t;this.editingTitle=!0,null==(t=this.$refs["tabs-dropdown"])||t.closeDropdown()},handleTitleChange(){var t;const s=null==(t=this.tempTitle)?void 0:t.trim();s?s!==this.displayName&&this.itemStore.update(this.session.id,{name:s}):this.revertTitle(),this.editingTitle=!1},revertTitle(){this.tempTitle=this.session.displayName,this.editingTitle=!1},switchViewToDetail(){this.itemStore.activeItemId=this.session.id,this.viewStateStore.setActiveView(w.Detail)}}},(function(){var t=this,s=t._self._c;return s("li",{staticClass:"session-list-item",attrs:{"data-test":"session-item"},on:{click:t.switchViewToDetail}},[s("div",{staticClass:"upper-row"},[t.editingTitle?s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempTitle,expression:"tempTitle"}],ref:"editingTitle",staticClass:"title-input",attrs:{spellcheck:"false","data-test":"display-name-input",maxlength:"255"},domProps:{value:t.tempTitle},on:{click:function(t){t.stopPropagation()},keyup:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.handleTitleChange.apply(null,arguments)},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:(s.stopPropagation(),t.revertTitle.apply(null,arguments))}],blur:t.handleTitleChange,input:function(s){s.target.composing||(t.tempTitle=s.target.value)}}})]):s("span",{staticClass:"title",attrs:{"data-test":"display-name"}},[t._v(t._s(t.displayName))]),s("div",{staticClass:"list-item-control",attrs:{"data-test":"session-item-control"},on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"restore",attrs:{"data-test":"restore-session"},on:{click:function(s){return t.$emit("restore")}}},[t._v("Restore")]),s("base-dropdown",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDeleteConfirmation,expression:"closeDeleteConfirmation"}],ref:"tabs-dropdown",attrs:{"data-test":"session-dropdown"},on:{toggle:t.closeDeleteConfirmation}},[t.deleteConfirmationOpen?[s("session-confirm-delete",{attrs:{session:t.session},on:{cancel:t.closeDeleteConfirmation,delete:function(s){return t.$emit("delete")}}})]:[s("base-dropdown-option",{attrs:{"data-test":"rename-session"},on:{click:t.renameSession}},[s("inline-svg",{staticClass:"icon icon-edit",attrs:{src:M}}),s("span",{staticClass:"text"},[t._v("Rename")])],1),s("base-dropdown-option",{attrs:{"data-test":"delete-session"},on:{click:t.openDeleteConfirmation}},[s("inline-svg",{staticClass:"icon icon-delete",attrs:{src:F}}),s("span",{staticClass:"text"},[t._v("Delete")])],1)]],2)],1)]),s("div",{staticClass:"bottom-row"},[t.iconCrossBrowserWarnVisible?s("div",{staticClass:"icon-cross-browser-warn",attrs:{"data-test":"cross-browser-warn",title:"This session was created on another browser. Browser-specific pages might not be restored"}},[s("inline-svg",{staticClass:"icon icon-delete",attrs:{src:k}})],1):t._e(),s("div",{staticClass:"session-description",attrs:{"data-test":"session-description"}},[s("span",[t._v(t._s(t.session.sessionDescriptionTabs))]),t.session.windows.length>1?s("span",[t._v(t._s(t.session.sessionDescriptionWindows))]):t._e()])])])}),[],!1,null,"edd7995f").exports;const st=T({name:"SessionDetailTab",components:{FavIcon:H},props:{tab:{type:f,required:!0}},computed:{title(){return(this.tab.url===b?"New tab":this.tab.url)+(this.tab.pinned?" (pinned)":"")},favIconUrl(){return this.tab.url===b?"https://momentumdash.com":this.tab.url}}},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"tab",attrs:{title:t.title}},[s("fav-icon",{staticClass:"favicon",attrs:{url:t.favIconUrl}}),s("div",{staticClass:"name"},[t._v(t._s(t.tab.title))])],1)}),[],!1,null,"7b80d886").exports,et=S().tabStashService,it=new x({feature:"tab stash"});const ot=T({name:"SessionDetail",components:{SessionDetailTabItem:st},props:{session:{type:h,required:!0}},unreactive:()=>({TabOrGroupType:v}),methods:{openPartialSession(t){let s=1;t instanceof g&&(s=t.tabCount),t instanceof y&&(s=t.tabs.length),it.capture("restore tabs",{tab_count:s,window_count:t instanceof g?1:0,partial:!0}),et.openPartialSession(t)}}},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"session-detail"},t._l(t.session.windows,(function(e){return s("div",{key:e.key,staticClass:"window"},[t.session.windows.length>1?s("div",{staticClass:"window-label",on:{click:function(s){return s.stopPropagation(),t.openPartialSession(e)}}},[t._v("Window")]):t._e(),t._l(e.tabsAndGroups,(function(e){return[e.type===t.TabOrGroupType.Group?s("div",{key:e.key,staticClass:"group",style:{"--tab-group-color":`var(--tab-group-color-${e.color})`}},[s("div",{staticClass:"group-label",on:{click:function(s){return s.stopPropagation(),t.openPartialSession(e)}}},[t._v(t._s(e.title||"Tab group"))]),t._l(e.tabs,(function(e){return s("session-detail-tab-item",{key:e.key,attrs:{tab:e},nativeOn:{click:function(s){return s.stopPropagation(),t.openPartialSession(e)}}})}))],2):e.type===t.TabOrGroupType.Tab?s("session-detail-tab-item",{key:e.key,attrs:{tab:e},nativeOn:{click:function(s){return s.stopPropagation(),t.openPartialSession(e)}}}):t._e()]}))],2)})),0)}),[],!1,null,"831259f4").exports;const nt=T(O({name:"TabStashSplitButton",components:{BaseDropdown:p,BaseDropdownOption:c},props:{buttonDetails:{type:Object,required:!0}},setup:()=>({DropdownAlignment:K,dropdown:P()})}),(function(){var s=this,e=s._self._c;return s._self._setupProxy,e("div",{staticClass:"tab-stash-split-button"},[e("div",{staticClass:"button",class:{"button-split-left":!!s.buttonDetails.secondary},attrs:{"data-test":"save-tabs"},on:{click:function(t){return s.buttonDetails.primary.action()}}},[s._v(s._s(s.buttonDetails.primary.label))]),s.buttonDetails.secondary?e("base-dropdown",{ref:"dropdown",attrs:{alignment:s.DropdownAlignment.Right},scopedSlots:s._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"button button-split-right"},[e("inline-svg",{staticClass:"icon",attrs:{src:t}})],1)]},proxy:!0}],null,!1,1720322927)},[e("base-dropdown-option",{on:{click:function(t){var e;null==(e=s.dropdown)||e.closeDropdown(),s.buttonDetails.secondary.action()}}},[e("span",{staticClass:"text"},[s._v(s._s(s.buttonDetails.secondary.label))])])],1):s._e()],1)}),[],!1,null,"e344bf00").exports,at=new x({feature:"tab stash"}),rt=new R("tab.tabStash.error");const lt=T({name:"TabsApp",components:{AppViewSwitchDynamic:e,AppPopup:i,AppHeader:o,AppLoading:n,AppView:a,AppEmpty:r,AppConfirmCancel:l,BaseDropdown:p,BaseDropdownOption:c,BaseItemList:d,SessionListItem:tt,AppActionBanner:W,BaseDropdownDivider:U,SessionDetail:ot,AppHeaderControl:$,SessionConfirmDelete:Z,OptionsList:G,AppButtonRow:N,TabStashSplitButton:nt},mixins:[q],inject:["viewStateStore"],provide(){return{itemStore:this.tabsStore}},setup:()=>({tabsStore:j(),loadingTimeout:null,DropdownAlignment:K,DropdownOptionSpacing:J,StashSetting:C}),data:()=>({loadingStateActive:!1,deleteConfirmationOpen:!1,hasPartialPermissions:!1,multipleWindowsOpen:!1,previousActiveSession:void 0}),computed:{sessions(){return this.tabsStore.getItems},empty(){return this.tabsStore.loaded&&!this.sessions.length},activeViewId(){return this.viewStateStore.activeViewId},activeView(){return this.viewStateStore.activeView},listViewActive(){return this.activeViewId===w.List},detailViewActive(){return this.activeViewId===w.Detail},isPlusDegraded:()=>m.conditionalFeatures.featureEnabled("tab-stash-degraded"),activeSession(){return this.sessions.find((t=>t.id===this.tabsStore.activeItemId))},deleteAllProps(){return{title:"Are you sure you want to delete all stashed sessions?",description:this.sessions.length+" session"+(this.sessions.length>1?"s":""),confirm:this.deleteAllSessions,confirmText:"Delete",cancel:this.closeDeleteConfirmation,cancelText:"Keep"}},tabsDefaultStashSetting:{get:()=>X.tabsDefaultStashSetting,set(t){X.tabsDefaultStashSetting=t}},stashButtonDetails(){const t=()=>this.stashSession(C.Window),s=()=>this.stashSession(C.All);return E()?{primary:{action:t,label:"Stash this window"}}:this.multipleWindowsOpen?this.tabsDefaultStashSetting===C.All?{primary:{action:s,label:"Stash all tabs"},secondary:{action:t,label:"Stash this window"}}:{primary:{action:t,label:"Stash this window"},secondary:{action:s,label:"Stash tabs from all windows"}}:{primary:{action:s,label:"Stash all tabs"}}}},watch:{"tabsStore.loaded"(t){t&&(clearTimeout(this.loadingTimeout),this.loadingStateActive=!1)},listViewActive(t){t&&this.closeDeleteConfirmation()}},created(){this.tabsStore.loaded||(this.loadingTimeout=setTimeout((()=>{this.loadingStateActive=!0}),500),this.tabsStore.refresh()),L()&&"sessions"in chrome&&!("tabGroups"in chrome)&&(this.hasPartialPermissions=!0),B().windows.onCreated.addListener(this.updateMultipleWindowsOpen),B().windows.onRemoved.addListener(this.updateMultipleWindowsOpen),this.updateMultipleWindowsOpen()},destroyed(){B().windows.onCreated.removeListener(this.updateMultipleWindowsOpen),B().windows.onRemoved.removeListener(this.updateMultipleWindowsOpen)},methods:{openHelpArticle(){V(D)},closePopup(){this.viewStateStore.togglePopup(!1)},openDeleteConfirmation(){this.deleteConfirmationOpen=!0},closeDeleteConfirmation(){this.deleteConfirmationOpen=!1},async stashSession(t){if(!(this.$plus||z.currentValue&&0===this.sessions.length))return this.showUpsell();try{const e=await this.tabsStore.stashSession(t);if(!e)return void this.showFlashMessage({icon:s,message:_.ERROR_PERMISSIONS});if(this.hasPartialPermissions=!1,0===e.windows.length)return void this.showFlashMessage({icon:s,message:_.ERROR_NO_OTHER_TABS,id:this.flashMessageId});at.capture("stash tabs",{tab_count:e.totalTabCount,window_count:e.windows.length}),this.showFlashMessage({icon:s,message:e.totalTabCount.toString()+" tab"+(e.totalTabCount>1?"s":"")+_.SUCCESSFUL_STASH_PARTIAL})}catch(e){console.error(e),rt.error("Tab Stash: stash session error",e),this.showFlashMessage({error:!0,message:_.ERROR_STASH})}},restoreLastSession(){this.empty||this.restoreSession(this.sessions[0])},async restoreSession(t){try{if(!(await this.tabsStore.restoreSession(t)))return void this.showFlashMessage({icon:s,message:_.ERROR_PERMISSIONS});at.capture("restore tabs",{tab_count:t.totalTabCount,window_count:t.windows.length}),this.showFlashMessage({icon:s,message:t.displayName+_.SUCCESSFUL_RESTORE_PARTIAL}),this.detailViewActive&&this.switchViewToList()}catch(e){console.error(e),e.sessionId=t.id,rt.error("Tab Stash: restore session error",e),this.showFlashMessage({error:!0,message:_.ERROR_RESTORE})}},async deleteAllSessions(){var t;const s=await Promise.allSettled(this.sessions.map((t=>this.tabsStore.delete(t.id))));null==(t=this.$refs.confirmationDropdown)||t.closeDropdown();const e=s.filter((t=>"rejected"===t.status));0===e.length?this.showFlashMessage({message:_.SUCCESSFUL_ALL_DELETE}):(rt.error("Tab Stash: delete all sessions error",{errors:e.map((t=>t.reason))}),this.showFlashMessage({error:!0,message:_.ERROR_ALL_DELETE}))},async deleteSession(t){try{await this.tabsStore.delete(t.id),this.showFlashMessage({icon:s,message:t.displayName+_.DELETE_PARTIAL}),this.detailViewActive&&this.switchViewToList()}catch(e){rt.error("Tab Stash: delete session error",e),this.showFlashMessage({error:!0,message:_.ERROR_DELETE})}},switchViewToList(){this.previousActiveSession=this.activeSession,this.viewStateStore.setActiveView(w.List),this.tabsStore.activeItemId=""},showUpsell(){m.cmd("modal.open","UPSELL_TAB_STASH",{eventSource:"dash"})},async ensurePermissions(t){await this.tabsStore.ensurePermissions(t)&&(this.hasPartialPermissions=!1)},async updateMultipleWindowsOpen(){const t=await I.windows.getAll({windowTypes:["normal"]});this.multipleWindowsOpen=t.length>1}}},(function(){var t=this,e=t._self._c;return e("app-popup",{attrs:{position:"bottom-right",region:"top-left","data-test":"tab-stash-app",width:390,focused:t.viewStateStore.focused},on:{close:t.closePopup},nativeOn:{click:function(s){return t.viewStateStore.focus()}}},[e("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[t.loadingStateActive?e("app-loading"):t.tabsStore.loaded?e("div",{staticClass:"app-content"},[e("app-view-switch-dynamic",{attrs:{"order-key":t.activeView.order},on:{afterResize:function(s){t.previousActiveSession=void 0}}},[t.listViewActive?e("app-view",{staticClass:"list session-list",attrs:{"data-test":"tabs-list-view"},scopedSlots:t._u([{key:"header",fn:function(){return[[e("app-header",{scopedSlots:t._u([{key:"left",fn:function(){return[e("inline-svg",{staticClass:"icon app-header-icon",attrs:{src:s}}),e("span",{staticClass:"app-header-name"},[t._v("Tab Stash")])]},proxy:!0},{key:"right",fn:function(){return[e("base-dropdown",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDeleteConfirmation,expression:"closeDeleteConfirmation"}],ref:"settingsDropdown",attrs:{"container-class":"app","data-test":"list-header-dropdown",width:"310px"},on:{toggle:t.closeDeleteConfirmation}},[t.deleteConfirmationOpen?[e("div",[e("app-confirm-cancel",t._b({attrs:{"data-test":"confirm-delete-all"}},"app-confirm-cancel",t.deleteAllProps,!1))],1)]:[t.empty?t._e():e("base-dropdown-option",{staticClass:"delete",attrs:{"data-test":"delete-all"},on:{click:t.openDeleteConfirmation}},[e("inline-svg",{staticClass:"icon icon-trash",attrs:{src:F}}),e("span",{staticClass:"text"},[t._v("Delete all sessions")])],1),t.empty?t._e():e("base-dropdown-divider"),e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between},on:{click:function(s){t.tabsDefaultStashSetting=t.tabsDefaultStashSetting===t.StashSetting.All?t.StashSetting.Window:t.StashSetting.All}}},[t._v(" Stash default "),e("options-list",{attrs:{options:[{value:t.StashSetting.All,label:"All windows"},{value:t.StashSetting.Window,label:"Current window"}]},model:{value:t.tabsDefaultStashSetting,callback:function(s){t.tabsDefaultStashSetting=s},expression:"tabsDefaultStashSetting"}})],1),e("base-dropdown-divider"),e("base-dropdown-option",{attrs:{"data-test":"tabs-onboarding"},on:{click:t.openHelpArticle}},[e("inline-svg",{staticClass:"icon icon-help",attrs:{src:Q}}),e("span",{staticClass:"text"},[t._v("Help")])],1)]],2)]},proxy:!0}],null,!1,2165787092)}),t.isPlusDegraded?e("app-action-banner",{attrs:{"action-text":"Renew",text:"Plus subscription expired."},on:{action:t.showUpsell}}):t.hasPartialPermissions?e("app-action-banner",{attrs:{"action-text":"Grant permissions",text:"We need new permissions to handle tab groups"},on:{action:function(s){return t.ensurePermissions(!0)}}}):t._e(),t.empty?t._e():e("app-button-row",[t.isPlusDegraded?t._e():e("tab-stash-split-button",{attrs:{"button-details":t.stashButtonDetails}}),e("div",{staticClass:"button button-neutral",attrs:{"data-test":"restore-last"},on:{click:t.restoreLastSession}},[t._v("Restore last session")])],1)]]},proxy:!0},{key:"body",fn:function(){return[t.empty?e("app-empty",{attrs:{title:"Stash your tabs for later\nso you can focus","button-text":t.stashButtonDetails.primary.label},on:{buttonClick:function(s){return t.stashButtonDetails.primary.action()}},scopedSlots:t._u([{key:"button",fn:function(){return[e("tab-stash-split-button",{attrs:{"button-details":t.stashButtonDetails}})]},proxy:!0}],null,!1,3114031265)}):[e("base-item-list",t._l(t.sessions,(function(s){return e("session-list-item",{key:s.id,attrs:{session:s},on:{restore:function(e){return t.restoreSession(s)},delete:function(e){return t.deleteSession(s)}}})})),1)]]},proxy:!0}],null,!1,2999357986)}):e("app-view",{attrs:{"data-test":"tabs-detail-view"},scopedSlots:t._u([{key:"header",fn:function(){return[[e("app-header",{scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{on:{click:t.switchViewToList}},[e("inline-svg",{staticClass:"icon icon-tabs",attrs:{src:Y}})],1)]},proxy:!0},{key:"center",fn:function(){return[e("div",{staticClass:"detail-header-title",attrs:{"data-test":"detail-header"}},[t._v(t._s((t.activeSession??t.previousActiveSession).displayName))])]},proxy:!0}])}),e("app-button-row",[e("div",{staticClass:"button",attrs:{"data-test":"restore-session"},on:{click:function(s){return t.restoreSession(t.activeSession)}}},[t._v("Restore session")]),e("base-dropdown",{ref:"detailDeleteDropdown",attrs:{"container-class":"app","data-test":"confirm-delete"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"button button-neutral",attrs:{"data-test":"delete-session"}},[t._v("Delete session")])]},proxy:!0}])},[e("session-confirm-delete",{attrs:{session:t.activeSession},on:{cancel:()=>{var s;return null==(s=t.$refs.detailDeleteDropdown)?void 0:s.closeDropdown()},delete:()=>t.deleteSession(t.activeSession)}})],1)],1)]]},proxy:!0},{key:"body",fn:function(){return[e("session-detail",{attrs:{session:t.activeSession??t.previousActiveSession,"data-test":"confirm-delete"}})]},proxy:!0}])})],1)],1):t._e()],1)],1)}),[],!1,null,"6818789d").exports;export{lt as default};